# ğŸš€ ×”×¦×¢×•×ª ×©×™×¤×•×¨×™× ×•×¤×™×¦'×¨×™× - Code Keeper Bot
## ×¡×¨×™×§×” ××§×™×¤×” - × ×•×‘××‘×¨ 2025

> **××¡××š ×–×” × ×•×¦×¨ ×œ××—×¨ ×¡×¨×™×§×” ××¢××™×§×” ×©×œ ×›×œ ×”×§×•×“ (Bot + WebApp)**
> ×”×¦×¢×•×ª ××•×ª×××•×ª ×¡×¤×¦×™×¤×™×ª ×œ××¨×›×™×˜×§×˜×•×¨×” ×•×œ×¤×™×¦'×¨×™× ×”×§×™×™××™× ×‘×¤×¨×•×™×§×˜

---

## ğŸ“‹ ×ª×•×›×Ÿ ×¢× ×™×™× ×™×

1. [×¡×™×›×•× ××¦×‘ × ×•×›×—×™](#×¡×™×›×•×-××¦×‘-× ×•×›×—×™)
2. [×¤×™×¦'×¨×™× ×—×“×©×™× - ×¢×“×™×¤×•×ª ×’×‘×•×”×”](#×¤×™×¦×¨×™×-×—×“×©×™×---×¢×“×™×¤×•×ª-×’×‘×•×”×”)
3. [×¤×™×¦'×¨×™× ×—×“×©×™× - ×¢×“×™×¤×•×ª ×‘×™× ×•× ×™×ª](#×¤×™×¦×¨×™×-×—×“×©×™×---×¢×“×™×¤×•×ª-×‘×™× ×•× ×™×ª)
4. [×©×™×¤×•×¨×™ ×‘×™×¦×•×¢×™×](#×©×™×¤×•×¨×™-×‘×™×¦×•×¢×™×)
5. [×©×™×¤×•×¨×™ ××‘×˜×—×”](#×©×™×¤×•×¨×™-××‘×˜×—×”)
6. [×©×™×¤×•×¨×™ WebApp](#×©×™×¤×•×¨×™-webapp)
7. [×©×™×¤×•×¨×™ ×—×•×•×™×™×ª ××©×ª××© (UX)](#×©×™×¤×•×¨×™-×—×•×•×™×™×ª-××©×ª××©-ux)
8. [××™× ×˜×’×¨×¦×™×•×ª ×—×“×©×•×ª](#××™× ×˜×’×¨×¦×™×•×ª-×—×“×©×•×ª)
9. [×©×™×¤×•×¨×™ ×ª×©×ª×™×ª](#×©×™×¤×•×¨×™-×ª×©×ª×™×ª)
10. [×ª×™×¢×•×“ ×•× ×’×™×©×•×ª](#×ª×™×¢×•×“-×•× ×’×™×©×•×ª)

---

## ğŸ¯ ×¡×™×›×•× ××¦×‘ × ×•×›×—×™

### âœ… × ×§×•×“×•×ª ×—×•×–×§ (××” ×©×¢×•×‘×“ ××¢×•×œ×”)

**××¨×›×™×˜×§×˜×•×¨×”:**
- ×§×•×“ ×××•×¨×’×Ÿ ××¦×•×™×Ÿ ×¢× 74,000+ ×©×•×¨×•×ª ×§×•×“
- 509 ×§×‘×¦×™ ×˜×¡×˜×™× - ×›×™×¡×•×™ ××¦×•×™×Ÿ
- ××¨×›×™×˜×§×˜×•×¨×” async-first ×¢× python-telegram-bot
- Service Layer Pattern ×‘×¨×•×¨ ×¢× ×”×¤×¨×“×” × ×§×™×™×”
- Repository Pattern ×œ××¡×“ ×”× ×ª×•× ×™×

**×¤×™×¦'×¨×™× ×§×™×™××™×:**
- âœ… × ×™×”×•×œ ×§×•×“ ××ª×§×“× (20+ ×©×¤×•×ª, ×’×¨×¡××•×ª, diff)
- âœ… ×× ×•×¢ ×—×™×¤×•×© ××©×•×›×œ×œ (5 ×¡×•×’×™ ×—×™×¤×•×©: content, text, regex, fuzzy, function)
- âœ… ××™× ×˜×’×¨×¦×™×•×ª: GitHub (Gist + Repo), Google Drive, Pastebin
- âœ… ×’×™×‘×•×™ ×•×©×—×–×•×¨ (ZIP, JSON, GridFS)
- âœ… WebApp ××œ× ×¢× Bookmarks, Sticky Notes, Collections
- âœ… Community Library + Snippet Library
- âœ… Observability ××¦×•×™×Ÿ (Sentry, Prometheus, OpenTelemetry, structlog)
- âœ… Predictive Engine ×œ× ×™×˜×•×¨ ×‘×¨×™××•×ª
- âœ… Repository Analyzer ×œ× ×™×ª×•×— ×§×•×“
- âœ… Cache Manager ×¢× Redis
- âœ… Rate Limiting ×—×›×

**×ª×©×ª×™×ª:**
- âœ… Docker + Docker Compose
- âœ… CI/CD ××œ× (GitHub Actions)
- âœ… Deploy ×œ-Render.com
- âœ… MongoDB ×¢× ××™× ×“×§×¡×™× ××§×™×¤×™×
- âœ… Redis ×œ×§××© ×•-rate limiting

### ğŸ”„ ××–×•×¨×™× ×œ×©×™×¤×•×¨

**×§×•×“:**
- ×§×‘×¦×™× ×’×“×•×œ×™× ××“×™ (main.py: 5,200 ×©×•×¨×•×ª, app.py: 6,165 ×©×•×¨×•×ª, conversation_handlers.py: 6,200 ×©×•×¨×•×ª)
- ×›×¤×™×œ×•×™×•×ª ×§×•×“ ××¡×•×™××•×ª ×‘×™×Ÿ handlers
- ×—×œ×§ ××”×§×•×“ inline JavaScript ×‘×ª×‘× ×™×•×ª

**×¤×™×¦'×¨×™×:**
- ××™×Ÿ AI/ML capabilities (GPT, code suggestions)
- ××™×Ÿ ×©×™×ª×•×£ ×¤×¢×•×œ×” ×‘×–××Ÿ ×××ª (real-time collaboration)
- ××™×Ÿ IDE integrations
- ××™×Ÿ mobile app × ×˜×™×‘×™
- ××™×Ÿ API ×¤×•××‘×™ ×œ-third-party integrations

**WebApp:**
- bundle ×’×“×•×œ (md_preview.bundle.js: 6.7MB)
- ××™×Ÿ PWA ××œ× (Service Worker ×—×¡×¨)
- ××™×Ÿ dark mode toggle (×¨×§ ××¦×‘ ××—×“)
- ××™×Ÿ diff viewer ×œ×’×¨×¡××•×ª ×§×•×“
- ××™×Ÿ CSRF protection ××œ×

---

## ğŸ”¥ ×¤×™×¦'×¨×™× ×—×“×©×™× - ×¢×“×™×¤×•×ª ×’×‘×•×”×”

### 1. ğŸ¤– AI Code Assistant (××¡×™×¡×˜× ×˜ ×§×•×“ ×—×›×)

**××” ×–×”:**
- ××™× ×˜×’×¨×¦×™×” ×¢× GPT-4 / Claude / Gemini
- ×”×¡×‘×¨×™ ×§×•×“, ×ª×™×§×•×Ÿ ×‘××’×™×, ×”×¦×¢×•×ª ×œ×©×™×¤×•×¨
- Code review ××•×˜×•××˜×™
- ×ª×™×¢×•×“ ××•×˜×•××˜×™ (docstrings, comments)

**×œ××” ×–×” ×—×©×•×‘:**
- ××•×¡×™×£ ×¢×¨×š ××©××¢×•×ª×™ ×œ××©×ª××©×™×
- ××‘×“×™×œ ××ª ×”×‘×•×˜ ××”××ª×—×¨×™×
- ×”×•×¤×š ××ª ×”×‘×•×˜ ×œ"××•×¨×”" ××™×©×™ ×œ×§×•×“

**××™×š ×œ×××©:**

```python
# services/ai_service.py
from anthropic import AsyncAnthropic
from openai import AsyncOpenAI

class AICodeService:
    def __init__(self):
        self.anthropic_client = AsyncAnthropic(api_key=config.ANTHROPIC_API_KEY)
        self.openai_client = AsyncOpenAI(api_key=config.OPENAI_API_KEY)

    async def explain_code(self, code: str, language: str) -> str:
        """×”×¡×‘×¨ ×§×•×“ ×‘×©×¤×” ×‘×¨×•×¨×”"""
        prompt = f"""×”×¡×‘×¨ ××ª ×§×•×“ ×”-{language} ×”×‘× ×‘×¦×•×¨×” ×¤×©×•×˜×” ×•×‘×¨×•×¨×”:

```{language}
{code}
```

×”×¡×‘×¨:
1. ××” ×”×§×•×“ ×¢×•×©×”
2. ××™×š ×”×•× ×¢×•×‘×“
3. ×”×× ×™×© ×‘×¢×™×•×ª ××• ×©×™×¤×•×¨×™× ××¤×©×¨×™×™×
"""

        response = await self.anthropic_client.messages.create(
            model="claude-3-5-sonnet-20241022",
            max_tokens=1024,
            messages=[{"role": "user", "content": prompt}]
        )
        return response.content[0].text

    async def review_code(self, code: str, language: str) -> dict:
        """Code review ××•×˜×•××˜×™"""
        prompt = f"""×‘×¦×¢ code review ×œ-{language} ×”×‘×:

```{language}
{code}
```

×”×—×–×¨ ×‘×¤×•×¨××˜ JSON:
{{
  "overall_score": 1-10,
  "issues": [
    {{"severity": "high/medium/low", "line": 5, "message": "..."}}
  ],
  "suggestions": ["...", "..."],
  "security_concerns": ["...", "..."],
  "performance_tips": ["...", "..."]
}}
"""

        response = await self.openai_client.chat.completions.create(
            model="gpt-4o",
            messages=[{"role": "user", "content": prompt}],
            response_format={"type": "json_object"}
        )
        return json.loads(response.choices[0].message.content)

    async def generate_tests(self, code: str, language: str) -> str:
        """×™×¦×™×¨×ª ×˜×¡×˜×™× ××•×˜×•××˜×™×ª"""
        pass

    async def fix_bug(self, code: str, error_message: str, language: str) -> str:
        """×ª×™×§×•×Ÿ ×‘××’ ××•×˜×•××˜×™"""
        pass

    async def generate_docstring(self, code: str, language: str) -> str:
        """×™×¦×™×¨×ª ×ª×™×¢×•×“ ××•×˜×•××˜×™"""
        pass

    async def optimize_code(self, code: str, language: str) -> str:
        """××•×¤×˜×™××™×–×¦×™×” ×©×œ ×§×•×“"""
        pass
```

**×¤×§×•×“×•×ª ×—×“×©×•×ª:**
- `/explain <filename>` - ×”×¡×‘×¨ ×§×•×“
- `/review <filename>` - code review
- `/fix <filename>` - ×ª×™×§×•×Ÿ ×‘××’×™×
- `/optimize <filename>` - ××•×¤×˜×™××™×–×¦×™×”
- `/generate_tests <filename>` - ×™×¦×™×¨×ª ×˜×¡×˜×™×
- `/document <filename>` - ×”×•×¡×¤×ª ×ª×™×¢×•×“

**×›×¤×ª×•×¨×™× ×‘-WebApp:**
- ğŸ¤– "×”×¡×‘×¨ ×§×•×“"
- ğŸ” "Code Review"
- ğŸ”§ "×ª×§×Ÿ ×‘××’×™×"
- âš¡ "××•×¤×˜××™×–×¦×™×”"
- ğŸ“ "×¦×•×¨ ×ª×™×¢×•×“"

**×©×™×§×•×œ×™×:**
- ×¢×œ×•×ª API - ×¦×¨×™×š ×œ×”×’×‘×™×œ ×©×™××•×© (rate limit)
- ××•×¤×¦×™×” ×œ-premium users (ğŸ’)
- cache ×ª×©×•×‘×•×ª × ×¤×•×¦×•×ª
- streaming response ×œ××©×ª××© (×˜×§×¡×˜ ××’×™×¢ ×‘×–××Ÿ ×××ª)

**×××’×¨ × ×ª×•× ×™×:**
```javascript
// webapp/static/js/ai-assistant.js
async function explainCode(fileId) {
    const response = await fetch(`/api/ai/explain/${fileId}`, {
        method: 'POST'
    });

    const reader = response.body.getReader();
    const decoder = new TextDecoder();

    // Stream response
    while (true) {
        const {done, value} = await reader.read();
        if (done) break;

        const chunk = decoder.decode(value);
        appendToExplanation(chunk);
    }
}
```

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ ×’×‘×•×” (2-3 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“

---

### 2. ğŸ‘¥ Team Collaboration (×©×™×ª×•×£ ×¤×¢×•×œ×” ×¦×•×•×ª×™)

**××” ×–×”:**
- Workspaces ××©×•×ª×¤×™×
- ×”×¨×©××•×ª (owner, editor, viewer)
- ×ª×’×•×‘×•×ª ×•×“×™×•× ×™× ×¢×œ ×§×•×“
- Real-time editing (WebSocket)
- Activity feed ×œ×¦×•×•×ª

**×œ××” ×–×” ×—×©×•×‘:**
- ×”×•×¤×š ××ª ×”×‘×•×˜ ×œ×›×œ×™ ×¦×•×•×ª×™
- ×¤×•×ª×— ×©×•×§ ×©×œ teams/organizations
- ××•×“×œ ×”×›× ×¡×”: premium teams

**××™×š ×œ×××©:**

```python
# database/models.py
@dataclass
class Workspace:
    workspace_id: str
    name: str
    description: str
    owner_id: int
    members: List[WorkspaceMember]
    created_at: datetime
    settings: dict

@dataclass
class WorkspaceMember:
    user_id: int
    role: str  # owner, admin, editor, viewer
    joined_at: datetime
    permissions: List[str]

@dataclass
class Comment:
    comment_id: str
    file_id: str
    user_id: int
    line_number: Optional[int]
    text: str
    thread_id: Optional[str]
    created_at: datetime
    reactions: List[Reaction]

@dataclass
class Activity:
    activity_id: str
    workspace_id: str
    user_id: int
    action_type: str  # created, edited, commented, shared
    target_id: str
    timestamp: datetime
```

**×¤×§×•×“×•×ª ×—×“×©×•×ª:**
- `/workspace create <name>` - ×™×¦×™×¨×ª workspace
- `/workspace invite <@user>` - ×”×–×× ×ª ××©×ª××©
- `/workspace list` - ×¨×©×™××ª workspaces
- `/workspace switch <name>` - ××¢×‘×¨ ×‘×™×Ÿ workspaces
- `/comment <filename> [line]` - ×”×•×¡×¤×ª ×ª×’×•×‘×”

**WebApp Features:**
- ğŸ¢ Workspace selector ×‘×˜×•×¤-×‘×¨
- ğŸ’¬ Comments panel ×‘×¦×“ ×©×œ ×§×•×“
- ğŸ‘¥ Members management
- ğŸ“Š Activity feed
- ğŸ”” Notifications on mentions (@user)

**Real-time Collaboration:**
```python
# webapp/websocket.py
from flask_socketio import SocketIO, emit, join_room

socketio = SocketIO(app, cors_allowed_origins="*")

@socketio.on('join_file')
def handle_join_file(data):
    file_id = data['file_id']
    user_id = session['user_id']
    join_room(file_id)

    # ×©×œ×— ×œ××©×ª××©×™× ××—×¨×™× ×©××™×©×”×• × ×›× ×¡
    emit('user_joined', {
        'user_id': user_id,
        'username': session['user_data']['first_name']
    }, room=file_id, skip_sid=request.sid)

@socketio.on('code_edit')
def handle_code_edit(data):
    file_id = data['file_id']
    changes = data['changes']

    # ×©××•×¨ ×©×™× ×•×™×™×
    save_code_changes(file_id, changes)

    # ×©×“×¨ ×œ×›×•×œ× ×‘×—×“×¨
    emit('code_updated', {
        'changes': changes,
        'user_id': session['user_id']
    }, room=file_id, skip_sid=request.sid)
```

**×”×¨×©××•×ª:**
```python
# services/workspace_service.py
class WorkspaceService:
    PERMISSIONS = {
        'owner': ['read', 'write', 'delete', 'invite', 'manage'],
        'admin': ['read', 'write', 'delete', 'invite'],
        'editor': ['read', 'write'],
        'viewer': ['read']
    }

    def can_user_perform(self, workspace_id: str, user_id: int, action: str) -> bool:
        member = self.get_member(workspace_id, user_id)
        if not member:
            return False

        return action in self.PERMISSIONS[member.role]
```

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ğŸ”´ ×’×‘×•×” ×××•×“ (4-6 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“
**×¤×•×˜× ×¦×™××œ ×”×›× ×¡×•×ª:** ğŸ’°ğŸ’°ğŸ’°

---

### 3. ğŸ“± Mobile App (××¤×œ×™×§×¦×™×” ××•×‘×™×œ×™×ª)

**××” ×–×”:**
- ××¤×œ×™×§×¦×™×” × ×˜×™×‘×™×ª ×œ-iOS ×•-Android
- ×××©×§ ××•×ª×× ×œ××•×‘×™×™×œ
- Offline support
- Push notifications
- Quick actions

**×œ××” ×–×” ×—×©×•×‘:**
- WebApp ×œ× ×ª××™×“ × ×•×— ×‘××•×‘×™×™×œ
- ×—×•×•×™×™×ª ××©×ª××© ××©×•×¤×¨×ª
- Push notifications ×××™×ª×™×•×ª
- App Store presence

**××•×¤×¦×™×•×ª ×™×™×©×•×:**

**××•×¤×¦×™×” 1: React Native**
```javascript
// CodeKeeperApp/src/screens/FilesScreen.js
import React from 'react';
import { FlatList, TouchableOpacity, Text } from 'react-native';

export default function FilesScreen() {
  const [files, setFiles] = useState([]);

  useEffect(() => {
    fetchFiles();
  }, []);

  const fetchFiles = async () => {
    const response = await fetch(`${API_URL}/api/files`, {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    setFiles(await response.json());
  };

  return (
    <FlatList
      data={files}
      renderItem={({item}) => (
        <FileCard file={item} onPress={() => navigateToFile(item.id)} />
      )}
    />
  );
}
```

**××•×¤×¦×™×” 2: Flutter**
```dart
// lib/screens/files_screen.dart
class FilesScreen extends StatefulWidget {
  @override
  _FilesScreenState createState() => _FilesScreenState();
}

class _FilesScreenState extends State<FilesScreen> {
  List<CodeFile> files = [];

  @override
  void initState() {
    super.initState();
    fetchFiles();
  }

  Future<void> fetchFiles() async {
    final response = await http.get(
      Uri.parse('$apiUrl/api/files'),
      headers: {'Authorization': 'Bearer $token'}
    );

    setState(() {
      files = (json.decode(response.body) as List)
          .map((e) => CodeFile.fromJson(e))
          .toList();
    });
  }

  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: files.length,
      itemBuilder: (context, index) => FileCard(file: files[index])
    );
  }
}
```

**××•×¤×¦×™×” 3: PWA ××©×•×¤×¨**
- Service Worker ××œ×
- Install prompt
- Offline caching
- Push notifications (Web Push API)

**×¤×™×¦'×¨×™× ×‘××•×‘×™×™×œ:**
- ğŸ“¸ ×¦×™×œ×•× ×§×•×“ (OCR)
- ğŸ¤ Voice commands
- ğŸ“² Share to app from other apps
- ğŸ”” Rich notifications
- âš¡ Quick actions (3D Touch / Long Press)
- ğŸ“‚ Files app integration (iOS)

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ğŸ”´ğŸ”´ ×××•×“ ×’×‘×•×” (3-4 ×—×•×“×©×™×)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“

---

### 4. ğŸ”Œ REST API Public (API ×¤×•××‘×™)

**××” ×–×”:**
- API ××ª×•×¢×“ ×œ-third-party developers
- API keys ×œ××™××•×ª
- Rate limiting per key
- Webhooks ×œ××™×¨×•×¢×™×
- SDKs (Python, JavaScript, Go)

**×œ××” ×–×” ×—×©×•×‘:**
- ×××¤×©×¨ ××™× ×˜×’×¨×¦×™×•×ª ×¢× ×›×œ×™× ××—×¨×™×
- ××¨×—×™×‘ ××ª ×”××§×•×¡×™×¡×˜×
- ××•×“×œ ×”×›× ×¡×”: API usage pricing

**××™×š ×œ×××©:**

```python
# api/v1/__init__.py
from flask import Blueprint
from flask_limiter import Limiter

api_v1 = Blueprint('api_v1', __name__, url_prefix='/api/v1')
limiter = Limiter(key_func=get_api_key)

# api/v1/files.py
from . import api_v1, limiter

@api_v1.route('/files', methods=['GET'])
@limiter.limit("100/hour")
@require_api_key
def list_files():
    """
    List all files for authenticated user

    Rate limit: 100 requests/hour

    Query params:
      - language: Filter by programming language
      - tag: Filter by tag
      - limit: Number of results (max 100)
      - offset: Pagination offset

    Returns:
      {
        "files": [...],
        "total": 123,
        "limit": 20,
        "offset": 0
      }
    """
    api_key = request.headers['X-API-Key']
    user_id = get_user_from_api_key(api_key)

    language = request.args.get('language')
    tag = request.args.get('tag')
    limit = min(int(request.args.get('limit', 20)), 100)
    offset = int(request.args.get('offset', 0))

    files = db_manager.get_user_files(
        user_id=user_id,
        language=language,
        tag=tag,
        limit=limit,
        offset=offset
    )

    return jsonify({
        'files': [f.to_dict() for f in files],
        'total': db_manager.count_user_files(user_id),
        'limit': limit,
        'offset': offset
    })

@api_v1.route('/files', methods=['POST'])
@limiter.limit("50/hour")
@require_api_key
def create_file():
    """
    Create a new file

    Body:
      {
        "filename": "script.py",
        "code": "print('hello')",
        "language": "python",
        "description": "...",
        "tags": ["api", "test"]
      }
    """
    data = request.json
    user_id = get_user_from_api_key(request.headers['X-API-Key'])

    file_id = db_manager.save_code_snippet(
        user_id=user_id,
        file_name=data['filename'],
        code=data['code'],
        language=data.get('language'),
        description=data.get('description'),
        tags=data.get('tags', [])
    )

    # Trigger webhook
    trigger_webhook(user_id, 'file.created', {'file_id': file_id})

    return jsonify({'file_id': file_id}), 201

@api_v1.route('/files/<file_id>', methods=['GET'])
@limiter.limit("1000/hour")
@require_api_key
def get_file(file_id):
    """Get file by ID"""
    pass

@api_v1.route('/files/<file_id>', methods=['PUT'])
@limiter.limit("50/hour")
@require_api_key
def update_file(file_id):
    """Update file"""
    pass

@api_v1.route('/files/<file_id>', methods=['DELETE'])
@limiter.limit("50/hour")
@require_api_key
def delete_file(file_id):
    """Delete file"""
    pass
```

**API Keys Management:**
```python
# database/models.py
@dataclass
class APIKey:
    key_id: str
    user_id: int
    key: str  # hashed
    name: str
    permissions: List[str]
    rate_limit: int
    created_at: datetime
    last_used_at: Optional[datetime]
    expires_at: Optional[datetime]

# services/api_key_service.py
class APIKeyService:
    def generate_key(self, user_id: int, name: str, permissions: List[str]) -> str:
        """×™×¦×™×¨×ª API key ×—×“×©"""
        key = secrets.token_urlsafe(32)
        key_hash = hashlib.sha256(key.encode()).hexdigest()

        db.api_keys.insert_one({
            'key_id': str(uuid.uuid4()),
            'user_id': user_id,
            'key': key_hash,
            'name': name,
            'permissions': permissions,
            'rate_limit': 100,
            'created_at': datetime.now()
        })

        return key  # ×¨×§ ×¤×¢× ××—×ª ××•×¦×’ ×œ××©×ª××©!

    def verify_key(self, key: str) -> Optional[APIKey]:
        """×‘×“×™×§×ª ×ª×§×™× ×•×ª API key"""
        key_hash = hashlib.sha256(key.encode()).hexdigest()
        return db.api_keys.find_one({'key': key_hash})
```

**Webhooks:**
```python
# services/webhook_service.py
class WebhookService:
    EVENTS = [
        'file.created',
        'file.updated',
        'file.deleted',
        'backup.completed',
        'workspace.member_added'
    ]

    async def trigger_webhook(self, user_id: int, event: str, data: dict):
        """×©×œ×— webhook ×œ×›×œ ×”-endpoints ×”×¨×©×•××™×"""
        webhooks = db.webhooks.find({
            'user_id': user_id,
            'events': event,
            'active': True
        })

        for webhook in webhooks:
            try:
                await self._send_webhook(webhook, event, data)
            except Exception as e:
                logger.error(f"Webhook failed: {e}")

    async def _send_webhook(self, webhook: dict, event: str, data: dict):
        payload = {
            'event': event,
            'timestamp': datetime.now().isoformat(),
            'data': data
        }

        # HMAC signature
        signature = hmac.new(
            webhook['secret'].encode(),
            json.dumps(payload).encode(),
            hashlib.sha256
        ).hexdigest()

        async with aiohttp.ClientSession() as session:
            await session.post(
                webhook['url'],
                json=payload,
                headers={
                    'X-CodeKeeper-Event': event,
                    'X-CodeKeeper-Signature': signature
                },
                timeout=10
            )
```

**SDK Example (Python):**
```python
# codekeeper-sdk-python
from codekeeper import CodeKeeperClient

client = CodeKeeperClient(api_key='ck_1234567890abcdef')

# List files
files = client.files.list(language='python', limit=10)

# Create file
file = client.files.create(
    filename='test.py',
    code='print("hello")',
    tags=['test']
)

# Update file
client.files.update(file.id, code='print("hello world")')

# Search
results = client.search.query('function', search_type='fuzzy')

# Webhooks
webhook = client.webhooks.create(
    url='https://myapp.com/webhook',
    events=['file.created', 'file.updated']
)
```

**×ª×™×¢×•×“ API:**
- OpenAPI 3.0 spec (×›×‘×¨ ×§×™×™×!)
- Swagger UI (×›×‘×¨ ×§×™×™×!)
- ReDoc (×›×‘×¨ ×§×™×™×!)
- ×“×•×’×××•×ª ×§×•×“ ×œ×›×œ endpoint
- Postman collection

**×¤×§×•×“×•×ª ×—×“×©×•×ª ×‘×‘×•×˜:**
- `/api_key create <name>` - ×™×¦×™×¨×ª API key
- `/api_key list` - ×¨×©×™××ª keys
- `/api_key revoke <name>` - ×‘×™×˜×•×œ key
- `/webhook create <url> <events>` - ×¨×™×©×•× webhook
- `/webhook list` - ×¨×©×™××ª webhooks

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ğŸ”´ ×’×‘×•×” (3-4 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“
**×¤×•×˜× ×¦×™××œ ×”×›× ×¡×•×ª:** ğŸ’°ğŸ’°

---

### 5. ğŸ”— IDE Integrations (××™× ×˜×’×¨×¦×™×” ×œ-IDEs)

**××” ×–×”:**
- ×ª×•×¡×¤×™× ×œ-VSCode, PyCharm, IntelliJ
- Save to CodeKeeper ×™×©×™×¨×•×ª ××”-IDE
- Browse + search ×§×‘×¦×™×
- Sync snippets
- AI assistant ×‘×ª×•×š ×”-IDE

**×œ××” ×–×” ×—×©×•×‘:**
- workflow ×—×œ×§ - ×œ× ×¦×¨×™×š ×œ×¢×–×•×‘ ××ª ×”-IDE
- ××’×‘×™×¨ ×©×™××•×© ×‘×‘×•×˜
- ××ª×—×¨×” ×¢× GitHub Gist, SnippetsLab

**VSCode Extension:**

```typescript
// vscode-codekeeper/src/extension.ts
import * as vscode from 'vscode';
import { CodeKeeperClient } from './client';

export function activate(context: vscode.ExtensionContext) {
    const client = new CodeKeeperClient(
        context.globalState.get('apiKey')
    );

    // Save current file
    let saveCommand = vscode.commands.registerCommand(
        'codekeeper.saveFile',
        async () => {
            const editor = vscode.window.activeTextEditor;
            if (!editor) return;

            const document = editor.document;
            const code = document.getText();
            const filename = document.fileName.split('/').pop();
            const language = document.languageId;

            try {
                const file = await client.files.create({
                    filename,
                    code,
                    language
                });

                vscode.window.showInformationMessage(
                    `âœ… Saved to CodeKeeper: ${filename}`
                );
            } catch (error) {
                vscode.window.showErrorMessage(
                    `âŒ Failed to save: ${error.message}`
                );
            }
        }
    );

    // Browse files
    let browseCommand = vscode.commands.registerCommand(
        'codekeeper.browseFiles',
        async () => {
            const files = await client.files.list({ limit: 50 });

            const selected = await vscode.window.showQuickPick(
                files.map(f => ({
                    label: f.filename,
                    description: f.language,
                    detail: f.description,
                    file: f
                }))
            );

            if (selected) {
                const doc = await vscode.workspace.openTextDocument({
                    content: selected.file.code,
                    language: selected.file.language
                });
                await vscode.window.showTextDocument(doc);
            }
        }
    );

    // Search
    let searchCommand = vscode.commands.registerCommand(
        'codekeeper.search',
        async () => {
            const query = await vscode.window.showInputBox({
                prompt: 'Search your code snippets'
            });

            if (!query) return;

            const results = await client.search.query(query);
            // ... show results
        }
    );

    // AI Explain
    let explainCommand = vscode.commands.registerCommand(
        'codekeeper.explainCode',
        async () => {
            const editor = vscode.window.activeTextEditor;
            if (!editor) return;

            const selection = editor.selection;
            const code = editor.document.getText(selection);

            const explanation = await client.ai.explain(
                code,
                editor.document.languageId
            );

            // Show in panel
            const panel = vscode.window.createWebviewPanel(
                'codeExplanation',
                'Code Explanation',
                vscode.ViewColumn.Beside,
                {}
            );

            panel.webview.html = `
                <h1>Code Explanation</h1>
                <pre>${explanation}</pre>
            `;
        }
    );

    context.subscriptions.push(
        saveCommand,
        browseCommand,
        searchCommand,
        explainCommand
    );
}
```

**package.json:**
```json
{
  "name": "codekeeper",
  "displayName": "CodeKeeper",
  "description": "Save and manage code snippets with CodeKeeper Bot",
  "version": "1.0.0",
  "publisher": "codekeeper",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": ["Other"],
  "activationEvents": ["*"],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "codekeeper.saveFile",
        "title": "CodeKeeper: Save to CodeKeeper"
      },
      {
        "command": "codekeeper.browseFiles",
        "title": "CodeKeeper: Browse Files"
      },
      {
        "command": "codekeeper.search",
        "title": "CodeKeeper: Search"
      },
      {
        "command": "codekeeper.explainCode",
        "title": "CodeKeeper: Explain Code"
      }
    ],
    "keybindings": [
      {
        "command": "codekeeper.saveFile",
        "key": "ctrl+shift+s",
        "mac": "cmd+shift+s"
      }
    ],
    "configuration": {
      "title": "CodeKeeper",
      "properties": {
        "codekeeper.apiKey": {
          "type": "string",
          "default": "",
          "description": "Your CodeKeeper API Key"
        }
      }
    }
  }
}
```

**PyCharm Plugin (Kotlin):**
```kotlin
// codekeeper-intellij/src/main/kotlin/com/codekeeper/SaveAction.kt
class SaveToCodeKeeperAction : AnAction() {
    override fun actionPerformed(e: AnActionEvent) {
        val project = e.project ?: return
        val editor = e.getData(CommonDataKeys.EDITOR) ?: return

        val document = editor.document
        val code = document.text
        val file = e.getData(CommonDataKeys.PSI_FILE)
        val filename = file?.name ?: "untitled"
        val language = file?.fileType?.name ?: "text"

        // Call API
        val client = CodeKeeperClient(getApiKey())
        val result = client.saveFile(filename, code, language)

        if (result.isSuccess) {
            Messages.showInfoMessage(
                project,
                "Saved to CodeKeeper: $filename",
                "CodeKeeper"
            )
        } else {
            Messages.showErrorDialog(
                project,
                "Failed to save: ${result.error}",
                "CodeKeeper Error"
            )
        }
    }
}
```

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ğŸ”´ ×’×‘×•×” (4-5 ×©×‘×•×¢×•×ª ×œ×›×œ IDE)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“

---

## ğŸ”„ ×¤×™×¦'×¨×™× ×—×“×©×™× - ×¢×“×™×¤×•×ª ×‘×™× ×•× ×™×ª

### 6. ğŸ¨ Code Playground (×¡×‘×™×‘×ª ×¨×™×¦×”)

**××” ×–×”:**
- ×”×¨×¦×ª ×§×•×“ ×‘×˜×•×—×” ×‘-sandbox
- ×ª××™×›×” ×‘-Python, JavaScript, TypeScript, Go, Rust
- Output ×‘×–××Ÿ ×××ª
- Stdin input
- Time limits + memory limits

**××™×š ×œ×××©:**

```python
# services/code_execution_service.py
import docker
import asyncio

class CodeExecutionService:
    SUPPORTED_LANGUAGES = {
        'python': 'python:3.11-alpine',
        'javascript': 'node:20-alpine',
        'typescript': 'node:20-alpine',
        'go': 'golang:1.21-alpine',
        'rust': 'rust:1.75-alpine'
    }

    def __init__(self):
        self.client = docker.from_env()

    async def execute_code(
        self,
        code: str,
        language: str,
        stdin: str = '',
        timeout: int = 10
    ) -> dict:
        """×”×¨×¦×ª ×§×•×“ ×‘-Docker container ××‘×•×“×“"""

        if language not in self.SUPPORTED_LANGUAGES:
            raise ValueError(f"Language {language} not supported")

        image = self.SUPPORTED_LANGUAGES[language]

        # ×”×›×Ÿ ×§×•×“ ×œ×”×¨×¦×”
        if language == 'typescript':
            # Compile TypeScript first
            code = await self._compile_typescript(code)
            language = 'javascript'

        # ×”×¨×¥ ×‘-container
        try:
            container = self.client.containers.run(
                image=image,
                command=self._get_run_command(language, code),
                stdin_open=True,
                stdout=True,
                stderr=True,
                detach=True,
                remove=True,
                mem_limit='128m',
                nano_cpus=int(0.5 * 1e9),  # 0.5 CPU
                network_disabled=True,  # ××™×Ÿ ×’×™×©×” ×œ×¨×©×ª
                security_opt=['no-new-privileges'],
                cap_drop=['ALL']
            )

            # ×©×œ×— stdin
            if stdin:
                container.exec_run(cmd=stdin, stdin=True)

            # ×”××ª×Ÿ ×œ×ª×•×¦××•×ª ×¢× timeout
            result = await asyncio.wait_for(
                asyncio.to_thread(container.wait),
                timeout=timeout
            )

            # ×§×‘×œ output
            stdout = container.logs(stdout=True, stderr=False).decode()
            stderr = container.logs(stdout=False, stderr=True).decode()

            return {
                'success': result['StatusCode'] == 0,
                'stdout': stdout,
                'stderr': stderr,
                'exit_code': result['StatusCode'],
                'execution_time': result.get('ExecutionTime', 0)
            }

        except asyncio.TimeoutError:
            container.kill()
            return {
                'success': False,
                'error': 'Execution timed out',
                'timeout': timeout
            }
        except Exception as e:
            return {
                'success': False,
                'error': str(e)
            }

    def _get_run_command(self, language: str, code: str) -> list:
        if language == 'python':
            return ['python', '-c', code]
        elif language == 'javascript':
            return ['node', '-e', code]
        elif language == 'go':
            # Go requires file
            return ['sh', '-c', f'echo "{code}" > main.go && go run main.go']
        elif language == 'rust':
            return ['sh', '-c', f'echo "{code}" > main.rs && rustc main.rs && ./main']
```

**×¤×§×•×“×” ×‘×‘×•×˜:**
```
/run script.py
××•:
/run script.py
input: hello world
```

**WebApp - Playground UI:**
```javascript
// webapp/static/js/playground.js
class CodePlayground {
    constructor(fileId) {
        this.fileId = fileId;
        this.editor = null;
        this.outputPanel = null;
    }

    async runCode() {
        const code = this.editor.getValue();
        const language = this.getLanguage();
        const stdin = this.getStdin();

        this.showLoading();

        try {
            const response = await fetch('/api/playground/execute', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({code, language, stdin})
            });

            const result = await response.json();

            if (result.success) {
                this.displayOutput(result.stdout, 'success');
            } else {
                this.displayOutput(result.stderr || result.error, 'error');
            }
        } catch (error) {
            this.displayOutput(error.message, 'error');
        }
    }

    displayOutput(text, type) {
        this.outputPanel.innerHTML = `
            <div class="output output-${type}">
                <pre>${escapeHtml(text)}</pre>
            </div>
        `;
    }
}
```

**××‘×˜×—×”:**
- Docker isolation
- No network access
- Resource limits (CPU, memory, time)
- Sandbox file system
- Rate limiting (5 runs/minute)

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ ×’×‘×•×” (2-3 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™-×’×‘×•×”

---

### 7. ğŸ“Š Advanced Analytics (×× ×œ×™×˜×™×§×” ××ª×§×“××ª)

**××” ×–×”:**
- Dashboard ××¤×•×¨×˜ ×¢× ×’×¨×¤×™×
- Code quality trends ×œ××•×¨×š ×–××Ÿ
- Language distribution over time
- Activity heatmap
- Most used tags/languages
- Productivity insights

**××™××•×©:**

```python
# services/analytics_service.py
from datetime import datetime, timedelta
import pandas as pd

class AnalyticsService:
    def get_user_analytics(self, user_id: int, days: int = 30) -> dict:
        """×× ×œ×™×˜×™×§×” ××§×™×¤×” ×©×œ ××©×ª××©"""

        # ×˜×•×•×— ×ª××¨×™×›×™×
        end_date = datetime.now()
        start_date = end_date - timedelta(days=days)

        # ×©××™×œ×ª×•×ª
        files = list(db.code_snippets.find({
            'user_id': user_id,
            'created_at': {'$gte': start_date, '$lte': end_date}
        }))

        df = pd.DataFrame(files)

        return {
            'overview': self._get_overview(df),
            'language_trends': self._get_language_trends(df),
            'activity_heatmap': self._get_activity_heatmap(df),
            'code_quality': self._get_code_quality(df),
            'productivity': self._get_productivity(df),
            'tags_cloud': self._get_tags_cloud(df)
        }

    def _get_overview(self, df) -> dict:
        return {
            'total_files': len(df),
            'total_lines': df['lines_count'].sum(),
            'total_size_bytes': df['file_size'].sum(),
            'languages_count': df['programming_language'].nunique(),
            'avg_file_size': df['file_size'].mean(),
            'most_active_day': df['created_at'].dt.date.mode()[0]
        }

    def _get_language_trends(self, df) -> dict:
        """×©×™× ×•×™×™× ×‘×©×™××•×© ×‘×©×¤×•×ª ×œ××•×¨×š ×–××Ÿ"""
        df['week'] = df['created_at'].dt.to_period('W')
        trends = df.groupby(['week', 'programming_language']).size()

        return {
            'weeks': [str(w) for w in trends.index.get_level_values(0).unique()],
            'languages': {
                lang: trends[:, lang].tolist()
                for lang in df['programming_language'].unique()
            }
        }

    def _get_activity_heatmap(self, df) -> dict:
        """××¤×ª ×—×•× ×©×œ ×¤×¢×™×œ×•×ª ×œ×¤×™ ×™×•× ×•×©×¢×”"""
        df['hour'] = df['created_at'].dt.hour
        df['day'] = df['created_at'].dt.day_name()

        heatmap = df.groupby(['day', 'hour']).size().unstack(fill_value=0)

        return {
            'days': heatmap.index.tolist(),
            'hours': heatmap.columns.tolist(),
            'values': heatmap.values.tolist()
        }

    def _get_code_quality(self, df) -> dict:
        """××“×“×™ ××™×›×•×ª ×§×•×“ ×××•×¦×¢×™×"""
        return {
            'avg_lines_per_file': df['lines_count'].mean(),
            'avg_functions_per_file': df['functions_count'].mean(),
            'files_with_comments': len(df[df['has_comments'] == True]),
            'files_with_docstrings': len(df[df['has_docstrings'] == True])
        }

    def _get_productivity(self, df) -> dict:
        """×ª×•×‘× ×•×ª ×¤×¨×•×“×•×§×˜×™×‘×™×•×ª"""
        daily_files = df.groupby(df['created_at'].dt.date).size()

        return {
            'avg_files_per_day': daily_files.mean(),
            'most_productive_day': str(daily_files.idxmax()),
            'max_files_in_day': int(daily_files.max()),
            'streak_days': self._calculate_streak(daily_files)
        }

    def _get_tags_cloud(self, df) -> dict:
        """×¢× ×Ÿ ×ª×’×™×•×ª"""
        all_tags = [tag for tags in df['tags'] for tag in tags]
        tag_counts = pd.Series(all_tags).value_counts()

        return {
            tag: int(count)
            for tag, count in tag_counts.head(50).items()
        }
```

**WebApp - Analytics Dashboard:**
```javascript
// webapp/static/js/analytics.js
class AnalyticsDashboard {
    async loadAnalytics(days = 30) {
        const response = await fetch(`/api/analytics?days=${days}`);
        const data = await response.json();

        this.renderOverview(data.overview);
        this.renderLanguageTrends(data.language_trends);
        this.renderActivityHeatmap(data.activity_heatmap);
        this.renderTagsCloud(data.tags_cloud);
    }

    renderLanguageTrends(data) {
        // Chart.js
        new Chart(document.getElementById('languageTrendsChart'), {
            type: 'line',
            data: {
                labels: data.weeks,
                datasets: Object.entries(data.languages).map(([lang, values]) => ({
                    label: lang,
                    data: values,
                    borderColor: this.getLanguageColor(lang),
                    fill: false
                }))
            },
            options: {
                responsive: true,
                title: {text: 'Language Usage Trends'}
            }
        });
    }

    renderActivityHeatmap(data) {
        // Plotly.js heatmap
        Plotly.newPlot('heatmapChart', [{
            z: data.values,
            x: data.hours,
            y: data.days,
            type: 'heatmap',
            colorscale: 'Viridis'
        }], {
            title: 'Activity Heatmap',
            xaxis: {title: 'Hour of Day'},
            yaxis: {title: 'Day of Week'}
        });
    }

    renderTagsCloud(data) {
        // WordCloud library
        WordCloud(document.getElementById('tagsCloud'), {
            list: Object.entries(data).map(([tag, count]) => [tag, count]),
            gridSize: 8,
            weightFactor: 2,
            color: 'random-dark',
            backgroundColor: 'transparent'
        });
    }
}
```

**×¤×§×•×“×” ×‘×‘×•×˜:**
```
/analytics [days]
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1-2 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™-×’×‘×•×”

---

### 8. ğŸ”„ Git Integration (××™× ×˜×’×¨×¦×™×” ××œ××” ×¢× Git)

**××” ×–×”:**
- Clone repository ×•×©××™×¨×ª ×›×œ ×”×§×‘×¦×™×
- Track changes - Git diff
- Push changes back to repo
- Branch management
- Commit history

**××™××•×©:**

```python
# services/git_service.py
import git
import tempfile
import shutil

class GitService:
    def __init__(self):
        self.temp_dir = tempfile.mkdtemp(prefix='codekeeper_git_')

    async def clone_repo(self, repo_url: str, user_id: int, branch: str = 'main') -> dict:
        """×©×›×¤×•×œ ×¨×™×¤×• ×•×©××™×¨×ª ×›×œ ×”×§×‘×¦×™×"""

        try:
            # Clone
            repo_path = os.path.join(self.temp_dir, f'repo_{user_id}')
            repo = git.Repo.clone_from(repo_url, repo_path, branch=branch)

            # ×¢×‘×•×¨ ×¢×œ ×›×œ ×”×§×‘×¦×™×
            saved_files = []
            for root, dirs, files in os.walk(repo_path):
                # ×“×œ×’ ×¢×œ .git
                if '.git' in root:
                    continue

                for file in files:
                    file_path = os.path.join(root, file)
                    relative_path = os.path.relpath(file_path, repo_path)

                    # ×§×¨× ×§×•×‘×¥
                    try:
                        with open(file_path, 'r', encoding='utf-8') as f:
                            content = f.read()

                        # ×©××•×¨ ×‘×‘×•×˜
                        file_id = await db_manager.save_code_snippet(
                            user_id=user_id,
                            file_name=relative_path,
                            code=content,
                            programming_language=self._detect_language(file),
                            tags=[f'git:{repo_url.split("/")[-1]}', f'branch:{branch}']
                        )

                        saved_files.append({
                            'file_id': file_id,
                            'path': relative_path
                        })
                    except:
                        continue

            # × ×§×”
            shutil.rmtree(repo_path)

            return {
                'success': True,
                'files_count': len(saved_files),
                'files': saved_files
            }

        except Exception as e:
            return {
                'success': False,
                'error': str(e)
            }

    async def get_diff(self, repo_url: str, file_path: str, commit_a: str, commit_b: str) -> str:
        """×§×‘×œ diff ×‘×™×Ÿ ×©× ×™ commits"""
        repo_path = self._clone_temp(repo_url)
        repo = git.Repo(repo_path)

        diff = repo.git.diff(commit_a, commit_b, file_path)

        shutil.rmtree(repo_path)
        return diff

    async def push_changes(
        self,
        repo_url: str,
        file_path: str,
        new_content: str,
        commit_message: str,
        branch: str = 'main'
    ) -> dict:
        """×“×—×™×¤×ª ×©×™× ×•×™×™× ×—×–×¨×” ×œ-repo"""

        repo_path = self._clone_temp(repo_url)
        repo = git.Repo(repo_path)

        # ×›×ª×•×‘ ×§×•×‘×¥
        full_path = os.path.join(repo_path, file_path)
        os.makedirs(os.path.dirname(full_path), exist_ok=True)

        with open(full_path, 'w') as f:
            f.write(new_content)

        # Commit
        repo.index.add([file_path])
        repo.index.commit(commit_message)

        # Push
        origin = repo.remote('origin')
        origin.push(branch)

        shutil.rmtree(repo_path)

        return {'success': True}
```

**×¤×§×•×“×•×ª ×‘×‘×•×˜:**
```
/git clone <repo_url> [branch]
/git diff <file> <commit1> <commit2>
/git push <file> -m "commit message"
/git branches <repo>
/git log <repo> [file]
```

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ ×’×‘×•×” (2-3 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™-×’×‘×•×”

---

### 9. ğŸ“ Learning Mode (××¦×‘ ×œ××™×“×”)

**××” ×–×”:**
- ×˜×™×¤×™× ×•×˜×¨×™×§×™× ×œ×¤×™ ×©×¤×ª ×”×ª×›× ×•×ª
- Code challenges
- Best practices
- ×ª×¨×’×™×œ×™× ××™× ×˜×¨××§×˜×™×‘×™×™×
- Badges/achievements

**××™××•×©:**

```python
# services/learning_service.py
class LearningService:
    CHALLENGES = {
        'python': [
            {
                'id': 'py_001',
                'title': 'Hello World',
                'description': '×›×ª×•×‘ ×ª×•×›× ×™×ª ×©××“×¤×™×¡×” "Hello, World!"',
                'difficulty': 'beginner',
                'template': 'def solution():\n    # ×›×ª×•×‘ ×›××Ÿ\n    pass',
                'tests': [
                    {'input': '', 'expected_output': 'Hello, World!'}
                ]
            },
            {
                'id': 'py_002',
                'title': 'FizzBuzz',
                'description': '××™××•×© FizzBuzz ×¢×“ N',
                'difficulty': 'beginner',
                'template': 'def fizzbuzz(n):\n    # ×›×ª×•×‘ ×›××Ÿ\n    pass',
                'tests': [
                    {'input': '15', 'expected_output': '1\n2\nFizz\n4\nBuzz...'}
                ]
            }
        ]
    }

    async def get_challenge(self, language: str, difficulty: str = None) -> dict:
        """×§×‘×œ ××ª×’×¨ ××§×¨××™"""
        challenges = self.CHALLENGES.get(language, [])

        if difficulty:
            challenges = [c for c in challenges if c['difficulty'] == difficulty]

        return random.choice(challenges) if challenges else None

    async def check_solution(self, challenge_id: str, code: str) -> dict:
        """×‘×“×•×§ ×¤×ª×¨×•×Ÿ"""
        challenge = self._get_challenge_by_id(challenge_id)

        results = []
        for test in challenge['tests']:
            result = await self._run_test(code, test)
            results.append(result)

        all_passed = all(r['passed'] for r in results)

        if all_passed:
            await self._award_badge(user_id, challenge_id)

        return {
            'success': all_passed,
            'tests': results,
            'badge_earned': all_passed
        }

    async def get_tip_of_the_day(self, language: str) -> str:
        """×˜×™×¤ ×™×•××™"""
        tips = {
            'python': [
                "ğŸ’¡ ×”×©×ª××© ×‘-list comprehensions ×‘××§×•× ×œ×•×œ××•×ª ×¤×©×•×˜×•×ª",
                "ğŸ’¡ f-strings ××”×™×¨×™× ×™×•×ª×¨ ×-format() ××• %",
                "ğŸ’¡ ×”×©×ª××© ×‘-with ×¢×‘×•×¨ ×§×‘×¦×™× - ×–×” ×¡×•×’×¨ ××•×ª× ××•×˜×•××˜×™×ª"
            ],
            'javascript': [
                "ğŸ’¡ ×”×©×ª××© ×‘-const ×•-let ×‘××§×•× var",
                "ğŸ’¡ Array methods (map, filter, reduce) ×§×¨×™××™× ×™×•×ª×¨ ××œ×•×œ××•×ª",
                "ğŸ’¡ async/await ×§×œ ×™×•×ª×¨ ×-promises chains"
            ]
        }

        return random.choice(tips.get(language, []))
```

**×¤×§×•×“×•×ª ×‘×‘×•×˜:**
```
/challenge [language] [difficulty]
/submit_solution <challenge_id>
/my_badges
/tip [language]
/learn <topic>
```

**Gamification:**
```python
# database/models.py
@dataclass
class UserAchievement:
    user_id: int
    achievement_id: str
    earned_at: datetime
    level: int

ACHIEVEMENTS = {
    'first_file': {
        'name': 'ğŸ‰ First Steps',
        'description': '×©××¨×ª ××ª ×”×§×•×‘×¥ ×”×¨××©×•×Ÿ ×©×œ×š'
    },
    'code_master': {
        'name': 'ğŸ† Code Master',
        'description': '×©××¨×ª 100 ×§×‘×¦×™×',
        'levels': [10, 50, 100, 500, 1000]
    },
    'polyglot': {
        'name': 'ğŸŒ Polyglot',
        'description': '×”×©×ª××©×ª ×‘-5 ×©×¤×•×ª ×ª×›× ×•×ª ×©×•× ×•×ª',
        'levels': [3, 5, 10, 20]
    },
    'challenge_solver': {
        'name': 'ğŸ§© Challenge Solver',
        'description': '×¤×ª×¨×ª ××ª×’×¨×™×',
        'levels': [1, 5, 10, 25, 50]
    }
}
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (2-3 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™-×’×‘×•×”

---

## âš¡ ×©×™×¤×•×¨×™ ×‘×™×¦×•×¢×™×

### 10. Database Query Optimization

**×‘×¢×™×•×ª × ×•×›×—×™×•×ª:**
- ×›××” queries ×¢× skip (pagination) - ×œ× ×™×¢×™×œ ×œ××¡×¤×¨×™× ×’×“×•×œ×™×
- ××™×Ÿ cursor-based pagination
- ×—×œ×§ ××”-indexes ×—×¡×¨×™×

**×¤×ª×¨×•× ×•×ª:**

```python
# database/repository.py - Cursor-based pagination
class CodeSnippetRepository:
    async def get_files_paginated(
        self,
        user_id: int,
        cursor: Optional[str] = None,
        limit: int = 20,
        filters: dict = None
    ) -> dict:
        """Pagination ×¢× cursor ×‘××§×•× skip"""

        query = {'user_id': user_id, 'is_active': True}

        if filters:
            query.update(filters)

        # Cursor pagination
        if cursor:
            # Decode cursor (base64 encoded ObjectId)
            cursor_id = ObjectId(base64.b64decode(cursor).decode())
            query['_id'] = {'$lt': cursor_id}  # ×§×‘×¦×™× ×œ×¤× ×™ ×”-cursor

        files = list(
            self.collection.find(query)
            .sort('_id', -1)  # ×—×©×•×‘! ×¡×“×¨ ×§×‘×•×¢
            .limit(limit + 1)  # +1 ×›×“×™ ×œ×‘×“×•×§ ×× ×™×© ×¢×•×“
        )

        has_more = len(files) > limit
        if has_more:
            files = files[:limit]

        # ×™×¦×™×¨×ª cursor ×”×‘×
        next_cursor = None
        if has_more and files:
            last_id = files[-1]['_id']
            next_cursor = base64.b64encode(str(last_id).encode()).decode()

        return {
            'files': files,
            'next_cursor': next_cursor,
            'has_more': has_more
        }

    # Optimized search with projection
    async def search_files(
        self,
        user_id: int,
        query: str,
        language: Optional[str] = None,
        limit: int = 50
    ) -> List[dict]:
        """×—×™×¤×•×© ×¢× projection ×œ×©×“×•×ª × ×“×¨×©×™× ×‘×œ×‘×“"""

        search_query = {
            'user_id': user_id,
            'is_active': True,
            '$text': {'$search': query}
        }

        if language:
            search_query['programming_language'] = language

        # ×¨×§ ×©×“×•×ª ×©×× ×—× ×• ×¦×¨×™×›×™×
        projection = {
            'file_name': 1,
            'programming_language': 1,
            'description': 1,
            'tags': 1,
            'created_at': 1,
            'file_size': 1,
            'lines_count': 1,
            'score': {'$meta': 'textScore'}
        }

        return list(
            self.collection.find(search_query, projection)
            .sort([('score', {'$meta': 'textScore'})])
            .limit(limit)
        )
```

**××™× ×“×§×¡×™× × ×•×¡×¤×™×:**
```python
# database/manager.py
def _create_indexes(self):
    """×™×¦×™×¨×ª ×›×œ ×”××™× ×“×§×¡×™× ×”× ×“×¨×©×™×"""

    # Existing indexes...

    # NEW: Compound indexes for common queries
    self.db.code_snippets.create_index([
        ('user_id', 1),
        ('is_active', 1),
        ('created_at', -1)
    ], name='user_active_created')

    self.db.code_snippets.create_index([
        ('user_id', 1),
        ('programming_language', 1),
        ('created_at', -1)
    ], name='user_lang_created')

    self.db.code_snippets.create_index([
        ('user_id', 1),
        ('is_favorite', 1),
        ('favorited_at', -1)
    ], name='user_favorites')

    # Index for repository-based queries
    self.db.code_snippets.create_index([
        ('user_id', 1),
        ('tags', 1),
        ('created_at', -1)
    ], name='user_tags_created')

    # Partial index - ×¨×§ ×§×‘×¦×™× ×¤×¢×™×œ×™×
    self.db.code_snippets.create_index(
        [('user_id', 1), ('created_at', -1)],
        name='user_created_active_only',
        partialFilterExpression={'is_active': True}
    )
```

**Query Analysis:**
```python
# tools/analyze_queries.py
def analyze_slow_queries():
    """× ×ª×— queries ××™×˜×™×•×ª"""

    # ×”×¤×¢×œ profiling
    db.set_profiling_level(1, slow_ms=100)  # Log queries > 100ms

    # ×§×‘×œ slow queries
    slow_queries = list(db.system.profile.find({
        'millis': {'$gt': 100}
    }).sort('millis', -1).limit(20))

    for query in slow_queries:
        print(f"Query: {query['command']}")
        print(f"Time: {query['millis']}ms")
        print(f"Explain: {query.get('execStats', {})}")
        print("---")
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1 ×©×‘×•×¢)
**×¢×¨×š:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“ (×‘×™×¦×•×¢×™×)

---

### 11. WebApp Bundle Optimization

**×‘×¢×™×” × ×•×›×—×™×ª:**
- `md_preview.bundle.js`: 6.7MB
- `codemirror.local.js`: 2.6MB
- ×¡×”"×› ~9.3MB ×©×œ JavaScript

**×¤×ª×¨×•× ×•×ª:**

**1. Code Splitting:**
```javascript
// webapp/static_build/webpack.config.js
module.exports = {
    entry: {
        main: './src/main.js',
        editor: './src/editor.js',
        markdown: './src/markdown.js'
    },
    output: {
        filename: '[name].[contenthash].js',
        path: path.resolve(__dirname, '../static/js/dist')
    },
    optimization: {
        splitChunks: {
            chunks: 'all',
            cacheGroups: {
                vendor: {
                    test: /[\\/]node_modules[\\/]/,
                    name: 'vendors',
                    priority: 10
                },
                codemirror: {
                    test: /[\\/]node_modules[\\/]@codemirror/,
                    name: 'codemirror',
                    priority: 20
                },
                markdown: {
                    test: /[\\/](markdown-it|katex|mermaid)/,
                    name: 'markdown',
                    priority: 20
                }
            }
        }
    }
};
```

**2. Lazy Loading:**
```javascript
// webapp/templates/base.html
<script type="module">
    // ×˜×¢×Ÿ ×¨×§ ××” ×©×¦×¨×™×š
    if (window.location.pathname.includes('/edit/')) {
        import('/static/js/dist/editor.js');
    }

    if (window.location.pathname.includes('/md/')) {
        import('/static/js/dist/markdown.js');
    }
</script>
```

**3. Tree Shaking:**
```javascript
// ×¨×§ ×”-plugins ×©×¦×¨×™×›×™×
import { basicSetup } from 'codemirror';
import { python } from '@codemirror/lang-python';
import { javascript } from '@codemirror/lang-javascript';

// ×‘××§×•×:
// import * as codemirror from 'codemirror';
```

**4. CDN ×¢× fallback:**
```html
<!-- webapp/templates/base.html -->
<script src="https://cdn.jsdelivr.net/npm/codemirror@6/dist/codemirror.min.js"
        integrity="sha384-..." crossorigin="anonymous"
        onerror="loadLocalCodeMirror()"></script>

<script>
function loadLocalCodeMirror() {
    const script = document.createElement('script');
    script.src = '/static/js/codemirror.local.js';
    document.head.appendChild(script);
}
</script>
```

**5. Compression:**
```python
# webapp/app.py
from flask_compress import Compress

app = Flask(__name__)
compress = Compress()

app.config['COMPRESS_MIMETYPES'] = [
    'text/html',
    'text/css',
    'application/javascript',
    'application/json'
]
app.config['COMPRESS_LEVEL'] = 6  # gzip
app.config['COMPRESS_BR_LEVEL'] = 5  # brotli

compress.init_app(app)
```

**6. Service Worker (PWA):**
```javascript
// webapp/static/sw.js
const CACHE_NAME = 'codekeeper-v1';
const STATIC_ASSETS = [
    '/static/css/base.css',
    '/static/js/dist/main.js',
    '/static/fonts/heebo.woff2'
];

self.addEventListener('install', (event) => {
    event.waitUntil(
        caches.open(CACHE_NAME)
            .then(cache => cache.addAll(STATIC_ASSETS))
    );
});

self.addEventListener('fetch', (event) => {
    event.respondWith(
        caches.match(event.request)
            .then(response => response || fetch(event.request))
    );
});
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1-2 ×©×‘×•×¢×•×ª)
**×¢×¨×š:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“ (×‘×™×¦×•×¢×™× + UX)

---

## ğŸ”’ ×©×™×¤×•×¨×™ ××‘×˜×—×”

### 12. Security Hardening

**CSRF Protection:**
```python
# webapp/app.py
from flask_wtf.csrf import CSRFProtect

csrf = CSRFProtect(app)

# ×‘×›×œ ×˜×•×¤×¡:
# <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
```

**Content Security Policy (CSP):**
```python
# webapp/app.py
@app.after_request
def set_security_headers(response):
    response.headers['Content-Security-Policy'] = (
        "default-src 'self'; "
        "script-src 'self' 'nonce-{nonce}' https://cdn.jsdelivr.net; "
        "style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; "
        "font-src 'self' https://fonts.gstatic.com; "
        "img-src 'self' data: https:; "
        "connect-src 'self'; "
        "frame-ancestors 'none';"
    )

    response.headers['X-Frame-Options'] = 'DENY'
    response.headers['X-Content-Type-Options'] = 'nosniff'
    response.headers['X-XSS-Protection'] = '1; mode=block'
    response.headers['Strict-Transport-Security'] = 'max-age=31536000; includeSubDomains'
    response.headers['Referrer-Policy'] = 'strict-origin-when-cross-origin'

    return response
```

**Sub-Resource Integrity (SRI):**
```html
<!-- templates/base.html -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"
        integrity="sha384-vYA..."
        crossorigin="anonymous"></script>
```

**Rate Limiting Enhancements:**
```python
# webapp/app.py
from flask_limiter import Limiter
from flask_limiter.util import get_remote_address

limiter = Limiter(
    app=app,
    key_func=lambda: session.get('user_id') or get_remote_address(),
    storage_uri=config.REDIS_URL,
    storage_options={'socket_connect_timeout': 30},
    strategy='moving-window'
)

# Sensitive endpoints
@app.route('/api/files/bulk-delete', methods=['POST'])
@limiter.limit("5/hour")
def bulk_delete():
    pass

@app.route('/api/ai/explain/<file_id>', methods=['POST'])
@limiter.limit("10/hour")  # AI is expensive
def ai_explain(file_id):
    pass
```

**Input Validation:**
```python
# utils/validation.py
from pydantic import BaseModel, validator, constr

class FileCreateRequest(BaseModel):
    filename: constr(min_length=1, max_length=255)
    code: constr(max_length=10_000_000)  # 10MB max
    language: Optional[str]
    description: Optional[constr(max_length=1000)]
    tags: Optional[List[constr(max_length=50)]]

    @validator('filename')
    def validate_filename(cls, v):
        # ××¡×•×¨ ×ª×•×•×™× ××¡×•×›× ×™×
        dangerous_chars = ['..', '/', '\\', '<', '>', '|', ':']
        if any(char in v for char in dangerous_chars):
            raise ValueError('Invalid filename')
        return v

    @validator('tags')
    def validate_tags(cls, v):
        if v and len(v) > 20:
            raise ValueError('Maximum 20 tags')
        return v
```

**Audit Logging:**
```python
# services/audit_service.py
class AuditService:
    SENSITIVE_ACTIONS = [
        'file.deleted',
        'api_key.created',
        'webhook.created',
        'workspace.member_added',
        'settings.changed'
    ]

    async def log_action(
        self,
        user_id: int,
        action: str,
        resource_type: str,
        resource_id: str,
        details: dict = None
    ):
        """×¨×™×©×•× ×¤×¢×•×œ×•×ª ×¨×’×™×©×•×ª"""

        audit_log = {
            'user_id': user_id,
            'action': action,
            'resource_type': resource_type,
            'resource_id': resource_id,
            'details': details or {},
            'timestamp': datetime.now(),
            'ip_address': request.remote_addr,
            'user_agent': request.headers.get('User-Agent')
        }

        await db.audit_logs.insert_one(audit_log)

        # ×”×ª×¨××” ×œ×× ×”×œ ×¢×œ ×¤×¢×•×œ×•×ª ×¨×’×™×©×•×ª
        if action in self.SENSITIVE_ACTIONS:
            await self._notify_admin(audit_log)
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1-2 ×©×‘×•×¢×•×ª)
**×¢×¨×š:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” ×××•×“ (××‘×˜×—×”)

---

## ğŸ¨ ×©×™×¤×•×¨×™ WebApp

### 13. Dark/Light Mode Toggle

**×‘×¢×™×” × ×•×›×—×™×ª:**
- ×¨×§ ××¦×‘ ×›×”×” ××—×“
- ××™×Ÿ toggle ×œ××©×ª××©

**×¤×ª×¨×•×Ÿ:**

```css
/* webapp/static/css/themes.css */
:root {
    /* Light theme (default) */
    --bg-primary: #ffffff;
    --bg-secondary: #f5f5f5;
    --text-primary: #1a1a1a;
    --text-secondary: #666666;
    --border-color: #e0e0e0;
    --shadow: rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] {
    /* Dark theme */
    --bg-primary: #1a1a2e;
    --bg-secondary: #16213e;
    --text-primary: #ffffff;
    --text-secondary: #b8b8b8;
    --border-color: #2d3952;
    --shadow: rgba(0, 0, 0, 0.5);
}

[data-theme="ocean"] {
    /* Ocean theme */
    --bg-primary: #0a192f;
    --bg-secondary: #112240;
    --text-primary: #ccd6f6;
    --text-secondary: #8892b0;
    --border-color: #233554;
    --shadow: rgba(0, 0, 0, 0.7);
}

body {
    background: var(--bg-primary);
    color: var(--text-primary);
}

.card {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 6px var(--shadow);
}
```

```javascript
// webapp/static/js/theme-switcher.js
class ThemeSwitcher {
    constructor() {
        this.currentTheme = localStorage.getItem('theme') || 'light';
        this.applyTheme(this.currentTheme);
    }

    applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        this.currentTheme = theme;

        // ×¢×“×›×Ÿ ×’× ×‘-server
        fetch('/api/user/preferences', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({theme})
        });
    }

    toggle() {
        const themes = ['light', 'dark', 'ocean'];
        const currentIndex = themes.indexOf(this.currentTheme);
        const nextTheme = themes[(currentIndex + 1) % themes.length];
        this.applyTheme(nextTheme);
    }
}

const themeSwitcher = new ThemeSwitcher();

// ×›×¤×ª×•×¨ ×‘-navbar
document.getElementById('themeToggle').addEventListener('click', () => {
    themeSwitcher.toggle();
});
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¢ × ××•×š (2-3 ×™××™×)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™

---

### 14. Version History Viewer with Diff

**×‘×¢×™×” × ×•×›×—×™×ª:**
- ×’×¨×¡××•×ª × ×©××¨×•×ª ××‘×œ ××™×Ÿ UI ×œ×¦×¤×•×ª ×‘×”×Ÿ
- ××™×Ÿ diff viewer

**×¤×ª×¨×•×Ÿ:**

```python
# webapp/app.py
@app.route('/file/<file_id>/versions')
@login_required
def file_versions(file_id):
    """×¨×©×™××ª ×›×œ ×”×’×¨×¡××•×ª ×©×œ ×§×•×‘×¥"""
    versions = db_manager.get_file_versions(file_id, session['user_id'])
    return render_template('file_versions.html', versions=versions)

@app.route('/file/<file_id>/diff/<int:version_a>/<int:version_b>')
@login_required
def file_diff(file_id, version_a, version_b):
    """×”×©×•×•××” ×‘×™×Ÿ ×©×ª×™ ×’×¨×¡××•×ª"""
    diff = db_manager.get_version_diff(file_id, version_a, version_b)
    return render_template('file_diff.html', diff=diff)
```

```javascript
// webapp/static/js/diff-viewer.js
class DiffViewer {
    constructor(containerId) {
        this.container = document.getElementById(containerId);
    }

    async loadDiff(fileId, versionA, versionB) {
        const response = await fetch(
            `/api/file/${fileId}/diff/${versionA}/${versionB}`
        );
        const diff = await response.json();

        this.renderDiff(diff);
    }

    renderDiff(diff) {
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… diff2html
        const diffHtml = Diff2Html.html(diff.unified_diff, {
            drawFileList: false,
            matching: 'lines',
            outputFormat: 'side-by-side'
        });

        this.container.innerHTML = diffHtml;
    }
}
```

**HTML Template:**
```html
<!-- webapp/templates/file_versions.html -->
<div class="versions-list">
    {% for version in versions %}
    <div class="version-card">
        <div class="version-header">
            <span class="version-number">×’×¨×¡×” {{ version.version }}</span>
            <span class="version-date">{{ version.updated_at }}</span>
        </div>

        <div class="version-actions">
            <button onclick="viewVersion({{ version.version }})">
                ğŸ‘ï¸ ×¦×¤×™×™×”
            </button>
            <button onclick="restoreVersion({{ version.version }})">
                â†©ï¸ ×©×—×–×•×¨
            </button>
            {% if version.version > 1 %}
            <button onclick="showDiff({{ version.version - 1 }}, {{ version.version }})">
                ğŸ” ×”×©×•×•××”
            </button>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

<!-- Diff Modal -->
<div id="diffModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>×”×©×•×•××ª ×’×¨×¡××•×ª</h2>
        <div id="diffViewer"></div>
    </div>
</div>
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1 ×©×‘×•×¢)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×”

---

## ğŸ”— ××™× ×˜×’×¨×¦×™×•×ª ×—×“×©×•×ª

### 15. Slack/Discord Integration

**××” ×–×”:**
- ×§×‘×œ×ª ×”×ª×¨××•×ª ×‘-Slack/Discord
- ×©××™×¨×ª ×§×•×“ ×™×©×™×¨×•×ª ×-Slack
- Slash commands ×‘-Slack (`/codekeeper save`)
- Bot ×‘-Discord

**××™××•×© Slack:**

```python
# integrations/slack_integration.py
from slack_sdk import WebClient
from slack_sdk.signature import SignatureVerifier

class SlackIntegration:
    def __init__(self):
        self.client = WebClient(token=config.SLACK_BOT_TOKEN)
        self.verifier = SignatureVerifier(config.SLACK_SIGNING_SECRET)

    async def handle_command(self, request_data: dict) -> dict:
        """×˜×™×¤×•×œ ×‘-slash commands"""

        command = request_data['command']
        text = request_data['text']
        user_id = request_data['user_id']
        channel_id = request_data['channel_id']

        if command == '/codekeeper-save':
            return await self._save_code(text, user_id, channel_id)
        elif command == '/codekeeper-search':
            return await self._search_code(text, user_id)
        elif command == '/codekeeper-list':
            return await self._list_files(user_id)

    async def _save_code(self, code: str, slack_user_id: str, channel_id: str) -> dict:
        """×©××™×¨×ª ×§×•×“ ×-Slack"""

        # ×§×©×¨ Slack user ×œ-Telegram user
        telegram_user_id = await self._get_telegram_user(slack_user_id)

        if not telegram_user_id:
            return {
                'response_type': 'ephemeral',
                'text': '×× × ×§×©×¨ ××ª ×—×©×‘×•×Ÿ Telegram ×©×œ×š ×ª×—×™×œ×”: /codekeeper-connect'
            }

        # ×©××•×¨
        file_id = await db_manager.save_code_snippet(
            user_id=telegram_user_id,
            file_name='slack_snippet.txt',
            code=code,
            tags=['slack']
        )

        return {
            'response_type': 'in_channel',
            'text': f'âœ… × ×©××¨ ×‘×”×¦×œ×—×”! ID: {file_id}',
            'attachments': [{
                'text': code[:200],
                'mrkdwn_in': ['text']
            }]
        }

    async def send_notification(self, user_id: int, message: str):
        """×©×œ×— ×”×ª×¨××” ×œ-Slack"""

        slack_channel = await self._get_user_slack_channel(user_id)
        if not slack_channel:
            return

        await self.client.chat_postMessage(
            channel=slack_channel,
            text=message,
            blocks=[{
                'type': 'section',
                'text': {'type': 'mrkdwn', 'text': message}
            }]
        )
```

**Slack App Manifest:**
```yaml
# slack_manifest.yml
display_information:
  name: CodeKeeper
  description: Your personal code snippet manager
  background_color: "#2d3e50"

features:
  bot_user:
    display_name: CodeKeeper Bot
    always_online: true

  slash_commands:
    - command: /codekeeper-save
      description: Save a code snippet
      usage_hint: "[code]"
    - command: /codekeeper-search
      description: Search your snippets
      usage_hint: "[query]"
    - command: /codekeeper-list
      description: List recent files
      usage_hint: ""

oauth_config:
  scopes:
    bot:
      - commands
      - chat:write
      - users:read

settings:
  event_subscriptions:
    request_url: https://your-app.com/slack/events
    bot_events:
      - message.channels
      - message.im

  interactivity:
    is_enabled: true
    request_url: https://your-app.com/slack/interactivity
```

**Discord Bot:**
```python
# integrations/discord_integration.py
import discord
from discord.ext import commands

class CodeKeeperBot(commands.Bot):
    def __init__(self):
        intents = discord.Intents.default()
        intents.message_content = True
        super().__init__(command_prefix='!ck ', intents=intents)

    @commands.command(name='save')
    async def save_code(self, ctx, *, code: str):
        """!ck save <code>"""

        # ×§×©×¨ Discord user ×œ-Telegram
        telegram_user_id = await self._get_telegram_user(ctx.author.id)

        if not telegram_user_id:
            await ctx.send('âŒ ×× × ×§×©×¨ ××ª ×—×©×‘×•×Ÿ Telegram ×©×œ×š: !ck connect')
            return

        # ×©××•×¨
        file_id = await db_manager.save_code_snippet(
            user_id=telegram_user_id,
            file_name='discord_snippet.txt',
            code=code,
            tags=['discord']
        )

        embed = discord.Embed(
            title="âœ… × ×©××¨ ×‘×”×¦×œ×—×”!",
            description=f"File ID: `{file_id}`",
            color=discord.Color.green()
        )
        embed.add_field(name="×§×•×“", value=f"```\n{code[:200]}\n```")

        await ctx.send(embed=embed)

    @commands.command(name='search')
    async def search_code(self, ctx, *, query: str):
        """!ck search <query>"""
        # ... ××™××•×© ×—×™×¤×•×©
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1-2 ×©×‘×•×¢×•×ª ×œ×›×œ ××™× ×˜×’×¨×¦×™×”)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™-×’×‘×•×”

---

### 16. GitLab / Bitbucket Integration

**××” ×–×”:**
- ×ª××™×›×” ×‘-GitLab ×‘× ×•×¡×£ ×œ-GitHub
- ×ª××™×›×” ×‘-Bitbucket
- Upload to repos
- Clone repositories

**××™××•×©:**

```python
# services/gitlab_service.py
import gitlab

class GitLabService:
    def __init__(self, access_token: str):
        self.client = gitlab.Gitlab('https://gitlab.com', private_token=access_token)

    async def create_snippet(
        self,
        title: str,
        content: str,
        filename: str,
        visibility: str = 'private'
    ) -> str:
        """×™×¦×™×¨×ª GitLab Snippet"""

        snippet = self.client.snippets.create({
            'title': title,
            'file_name': filename,
            'content': content,
            'visibility': visibility
        })

        return snippet.web_url

    async def upload_to_repo(
        self,
        project_id: str,
        file_path: str,
        content: str,
        commit_message: str,
        branch: str = 'main'
    ):
        """×”×¢×œ××ª ×§×•×‘×¥ ×œ-repository"""

        project = self.client.projects.get(project_id)

        try:
            # ×× ×”×§×•×‘×¥ ×§×™×™× - ×¢×“×›×Ÿ
            file = project.files.get(file_path, ref=branch)
            file.content = content
            file.save(branch=branch, commit_message=commit_message)
        except:
            # ××—×¨×ª - ×¦×•×¨ ×—×“×©
            project.files.create({
                'file_path': file_path,
                'branch': branch,
                'content': content,
                'commit_message': commit_message
            })

    async def list_projects(self) -> List[dict]:
        """×¨×©×™××ª ×¤×¨×•×™×§×˜×™×"""
        projects = self.client.projects.list(owned=True)
        return [
            {
                'id': p.id,
                'name': p.name,
                'url': p.web_url,
                'default_branch': p.default_branch
            }
            for p in projects
        ]
```

```python
# services/bitbucket_service.py
from atlassian import Bitbucket

class BitbucketService:
    def __init__(self, username: str, app_password: str):
        self.client = Bitbucket(
            url='https://api.bitbucket.org',
            username=username,
            password=app_password
        )

    async def create_snippet(
        self,
        title: str,
        content: str,
        filename: str,
        is_private: bool = True
    ) -> str:
        """×™×¦×™×¨×ª Bitbucket Snippet"""

        snippet = self.client.create_snippet(
            title=title,
            filename=filename,
            code=content,
            is_private=is_private
        )

        return snippet['links']['html']['href']

    async def upload_to_repo(
        self,
        workspace: str,
        repo_slug: str,
        file_path: str,
        content: str,
        message: str,
        branch: str = 'main'
    ):
        """×”×¢×œ××ª ×§×•×‘×¥"""

        self.client.create_or_update_file(
            workspace=workspace,
            repo_slug=repo_slug,
            file_path=file_path,
            content=content,
            message=message,
            branch=branch
        )
```

**×¤×§×•×“×•×ª ×‘×‘×•×˜:**
```
/gitlab_connect
/gitlab_upload <filename> <project_id>
/gitlab_snippet <filename>

/bitbucket_connect
/bitbucket_upload <filename> <workspace/repo>
/bitbucket_snippet <filename>
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1 ×©×‘×•×¢ ×œ×›×œ ××—×“)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™

---

## ğŸ—ï¸ ×©×™×¤×•×¨×™ ×ª×©×ª×™×ª

### 17. Kubernetes Deployment

**××” ×–×”:**
- ××¢×‘×¨ ×-Docker Compose ×œ-Kubernetes
- Auto-scaling
- High availability
- Rolling updates
- Health checks

**××™××•×©:**

```yaml
# k8s/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: codekeeper-bot
  labels:
    app: codekeeper
    component: bot
spec:
  replicas: 3
  selector:
    matchLabels:
      app: codekeeper
      component: bot
  template:
    metadata:
      labels:
        app: codekeeper
        component: bot
    spec:
      containers:
      - name: bot
        image: codekeeper/bot:latest
        ports:
        - containerPort: 8080
        env:
        - name: BOT_TOKEN
          valueFrom:
            secretKeyRef:
              name: codekeeper-secrets
              key: bot-token
        - name: MONGODB_URL
          valueFrom:
            secretKeyRef:
              name: codekeeper-secrets
              key: mongodb-url
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 5
---
apiVersion: v1
kind: Service
metadata:
  name: codekeeper-bot
spec:
  selector:
    app: codekeeper
    component: bot
  ports:
  - port: 80
    targetPort: 8080
  type: LoadBalancer
---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: codekeeper-bot-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: codekeeper-bot
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
```

```yaml
# k8s/mongodb.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mongodb-pvc
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: mongodb
spec:
  serviceName: mongodb
  replicas: 3
  selector:
    matchLabels:
      app: mongodb
  template:
    metadata:
      labels:
        app: mongodb
    spec:
      containers:
      - name: mongodb
        image: mongo:7.0
        ports:
        - containerPort: 27017
        volumeMounts:
        - name: mongodb-data
          mountPath: /data/db
        env:
        - name: MONGO_INITDB_ROOT_USERNAME
          valueFrom:
            secretKeyRef:
              name: mongodb-secrets
              key: username
        - name: MONGO_INITDB_ROOT_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mongodb-secrets
              key: password
  volumeClaimTemplates:
  - metadata:
      name: mongodb-data
    spec:
      accessModes: ["ReadWriteOnce"]
      resources:
        requests:
          storage: 10Gi
```

**Helm Chart:**
```yaml
# helm/codekeeper/values.yaml
replicaCount: 3

image:
  repository: codekeeper/bot
  tag: latest
  pullPolicy: IfNotPresent

service:
  type: LoadBalancer
  port: 80

ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: codekeeper.example.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: codekeeper-tls
      hosts:
        - codekeeper.example.com

autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70

mongodb:
  enabled: true
  architecture: replicaset
  replicaCount: 3
  persistence:
    enabled: true
    size: 10Gi

redis:
  enabled: true
  architecture: standalone
  master:
    persistence:
      enabled: true
      size: 1Gi
```

**×”×¢×¨×›×ª ××××¥:** ğŸ”´ğŸ”´ ×’×‘×•×” (2-3 ×©×‘×•×¢×•×ª)
**×¢×¨×š:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™ (×¨×œ×•×•× ×˜×™ ×¨×§ ×œ×¡×§×™×™×œ ×’×“×•×œ)

---

### 18. CI/CD Improvements

**××” ×–×”:**
- E2E tests ×‘××•×˜×•××¦×™×”
- Performance regression tests
- Security scanning ××©×•×¤×¨
- Automatic rollback on failure
- Blue-Green deployments

```yaml
# .github/workflows/deploy-production.yml
name: Deploy to Production

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Run Unit Tests
        run: pytest tests/ -v

      - name: Run Integration Tests
        run: pytest tests/integration/ -v

      - name: Run E2E Tests
        run: |
          docker-compose -f docker-compose.test.yml up -d
          pytest tests/e2e/ -v
          docker-compose -f docker-compose.test.yml down

      - name: Performance Tests
        run: pytest tests/performance/ -v --benchmark-only

      - name: Security Scan
        uses: aquasecurity/trivy-action@master
        with:
          scan-type: 'fs'
          severity: 'CRITICAL,HIGH'

  build:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Build Docker Image
        run: |
          docker build -t codekeeper/bot:${{ github.sha }} .
          docker tag codekeeper/bot:${{ github.sha }} codekeeper/bot:latest

      - name: Push to Registry
        run: |
          echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
          docker push codekeeper/bot:${{ github.sha }}
          docker push codekeeper/bot:latest

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to Production
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.PROD_HOST }}
          username: ${{ secrets.PROD_USER }}
          key: ${{ secrets.PROD_SSH_KEY }}
          script: |
            cd /opt/codekeeper

            # Blue-Green Deployment
            docker-compose -f docker-compose.green.yml pull
            docker-compose -f docker-compose.green.yml up -d

            # Health check
            sleep 10
            if curl -f http://localhost:8081/health; then
              # Switch to green
              docker-compose -f docker-compose.blue.yml down
              mv docker-compose.green.yml docker-compose.blue.yml
              echo "âœ… Deployment successful"
            else
              # Rollback
              docker-compose -f docker-compose.green.yml down
              echo "âŒ Deployment failed, rolled back"
              exit 1
            fi

      - name: Notify on Success
        if: success()
        uses: 8398a7/action-slack@v3
        with:
          status: success
          text: 'âœ… Production deployment successful!'
          webhook_url: ${{ secrets.SLACK_WEBHOOK }}

      - name: Notify on Failure
        if: failure()
        uses: 8398a7/action-slack@v3
        with:
          status: failure
          text: 'âŒ Production deployment failed!'
          webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1 ×©×‘×•×¢)
**×¢×¨×š:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×” (××™×›×•×ª)

---

## ğŸ“š ×ª×™×¢×•×“ ×•× ×’×™×©×•×ª

### 19. Video Tutorials & Documentation

**××” ×–×”:**
- ×¡×¨×˜×•× ×™ ×”×“×¨×›×” ×‘-YouTube
- GIFs ××™× ×˜×¨××§×˜×™×‘×™×™×
- Interactive tutorials ×‘×ª×•×š ×”×‘×•×˜
- ×ª×™×¢×•×“ ××©×•×¤×¨ ×¢× ×“×™××’×¨××•×ª

**××™××•×©:**

```markdown
<!-- docs/tutorials/getting-started.md -->
# ××“×¨×™×š ×”×ª×—×œ×” ××”×™×¨×”

## ×©×œ×‘ 1: ×”×¨×©××” ×œ×‘×•×˜

<video width="100%" controls>
  <source src="/videos/registration.mp4" type="video/mp4">
</video>

1. ×¤×ª×— ×¦'××˜ ×¢× [@my_code_keeper_bot](https://t.me/my_code_keeper_bot)
2. ×©×œ×— `/start`
3. ×¢×§×•×‘ ××—×¨×™ ×”×”×•×¨××•×ª

## ×©×œ×‘ 2: ×©××™×¨×ª ×§×•×“ ×¨××©×•×Ÿ

![Save Code](../gifs/save-code.gif)

```
/save my_first_script.py
```

×œ××—×¨ ××›×Ÿ, ×©×œ×— ××ª ×”×§×•×“ ×©×œ×š.

## ×©×œ×‘ 3: ×—×™×¤×•×© ×•× ×™×”×•×œ

[Interactive Tutorial â†’](/tutorials/interactive/search)
```

**Interactive Tutorial ×‘×‘×•×˜:**
```python
# handlers/tutorial_handler.py
class TutorialHandler:
    TUTORIALS = {
        'basics': [
            {
                'step': 1,
                'title': '×©××™×¨×ª ×§×•×“',
                'description': '×‘×•× × ×©××•×¨ ××ª ×”×§×•×“ ×”×¨××©×•×Ÿ ×©×œ×š!',
                'instruction': '×©×œ×— /save hello.py',
                'expected_command': '/save',
                'hint': '×¨××–: ×”×§×œ×“ /save ×•××—×¨×™×• ×©× ×”×§×•×‘×¥'
            },
            {
                'step': 2,
                'title': '×©×œ×™×—×ª ×”×§×•×“',
                'description': '×¢×›×©×™×• ×©×œ×— ××ª ×§×•×“ ×”-Python ×©×œ×š',
                'instruction': '×©×œ×—: print("Hello, World!")',
                'expected_content': 'print',
                'hint': '×›×ª×•×‘ ×¤×§×•×“×ª print ×¤×©×•×˜×”'
            }
        ]
    }

    async def start_tutorial(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """×”×ª×—×œ×ª ××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™"""

        tutorial_name = context.args[0] if context.args else 'basics'
        tutorial = self.TUTORIALS.get(tutorial_name)

        context.user_data['tutorial'] = tutorial
        context.user_data['tutorial_step'] = 0

        await self._show_tutorial_step(update, context)

    async def _show_tutorial_step(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        tutorial = context.user_data['tutorial']
        step_index = context.user_data['tutorial_step']
        step = tutorial[step_index]

        message = f"""
ğŸ“š **{step['title']}** (×©×œ×‘ {step['step']}/{len(tutorial)})

{step['description']}

ğŸ¯ **××” ×œ×¢×©×•×ª:**
{step['instruction']}

ğŸ’¡ **×¨××–:** {step['hint']}
        """

        keyboard = [[
            InlineKeyboardButton("ğŸ’¡ ×¨××–", callback_data=f"tutorial_hint_{step_index}"),
            InlineKeyboardButton("â­ï¸ ×“×œ×’", callback_data=f"tutorial_skip_{step_index}")
        ]]

        await update.message.reply_text(
            message,
            reply_markup=InlineKeyboardMarkup(keyboard)
        )
```

**Mermaid Diagrams ×‘×ª×™×¢×•×“:**
```markdown
<!-- docs/architecture.md -->
# ××¨×›×™×˜×§×˜×•×¨×ª ×”××¢×¨×›×ª

## ×ª×–×¨×™× ×©××™×¨×ª ×§×•×“

```mermaid
sequenceDiagram
    participant U as User
    participant B as Bot
    participant DB as MongoDB
    participant C as Cache

    U->>B: /save script.py
    B->>U: ××•×›×Ÿ, ×©×œ×— ×§×•×“
    U->>B: <code>
    B->>B: Normalize & Validate
    B->>DB: Save to code_snippets
    DB-->>B: file_id
    B->>C: Cache file metadata
    B->>U: âœ… × ×©××¨ ×‘×”×¦×œ×—×”!
```

## ××¨×›×™×˜×§×˜×•×¨×ª ××™×§×¨×•-×©×™×¨×•×ª×™×

```mermaid
graph TB
    Bot[Telegram Bot]
    WebApp[Flask WebApp]
    DB[(MongoDB)]
    Cache[(Redis)]
    GH[GitHub API]
    GD[Google Drive]

    Bot --> DB
    Bot --> Cache
    Bot --> GH
    Bot --> GD

    WebApp --> DB
    WebApp --> Cache
    WebApp --> Bot
```
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (2-3 ×©×‘×•×¢×•×ª)
**×¢×¨×š ×œ××©×ª××©:** ğŸŸ¢ğŸŸ¢ğŸŸ¢ ×’×‘×•×”

---

### 20. Accessibility (A11y) Improvements

**××” ×–×”:**
- ×ª××™×›×” ××œ××” ×‘×§×•×¨××™ ××¡×š
- × ×™×•×•×˜ ××§×œ×“×ª
- ARIA labels
- High contrast mode
- Font size controls

**××™××•×©:**

```html
<!-- webapp/templates/base.html -->
<!-- Skip to content -->
<a href="#main-content" class="skip-to-content">×“×œ×’ ×œ×ª×•×›×Ÿ</a>

<nav role="navigation" aria-label="× ×™×•×•×˜ ×¨××©×™">
  <ul>
    <li><a href="/dashboard" aria-current="page">×œ×•×— ×‘×§×¨×”</a></li>
    <li><a href="/files">×§×‘×¦×™×</a></li>
  </ul>
</nav>

<main id="main-content" role="main">
  <!-- ×ª×•×›×Ÿ -->
</main>
```

```css
/* webapp/static/css/accessibility.css */
.skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    z-index: 100;
}

.skip-to-content:focus {
    top: 0;
}

/* High contrast mode */
@media (prefers-contrast: high) {
    :root {
        --text-primary: #000;
        --bg-primary: #fff;
        --border-color: #000;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus visible */
*:focus-visible {
    outline: 3px solid var(--focus-color);
    outline-offset: 2px;
}
```

```javascript
// webapp/static/js/keyboard-nav.js
class KeyboardNavigation {
    constructor() {
        this.init();
    }

    init() {
        document.addEventListener('keydown', (e) => {
            // Ctrl+K: Global search
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                document.getElementById('globalSearch').focus();
            }

            // Ctrl+B: Back to files
            if (e.ctrlKey && e.key === 'b') {
                e.preventDefault();
                window.location.href = '/files';
            }

            // Escape: Close modals
            if (e.key === 'Escape') {
                this.closeAllModals();
            }

            // Arrow keys: Navigate files
            if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
                this.navigateFiles(e.key);
            }
        });
    }

    navigateFiles(direction) {
        const files = document.querySelectorAll('.file-card');
        const focused = document.activeElement;
        const currentIndex = Array.from(files).indexOf(focused.closest('.file-card'));

        let nextIndex = direction === 'ArrowDown'
            ? currentIndex + 1
            : currentIndex - 1;

        if (nextIndex >= 0 && nextIndex < files.length) {
            files[nextIndex].querySelector('a').focus();
        }
    }
}

new KeyboardNavigation();
```

**×”×¢×¨×›×ª ××××¥:** ğŸŸ¡ ×‘×™× ×•× ×™ (1-2 ×©×‘×•×¢×•×ª)
**×¢×¨×š:** ğŸŸ¢ğŸŸ¢ ×‘×™× ×•× ×™-×’×‘×•×” (×—×©×•×‘ ×œ×›×œ×œ ×”××©×ª××©×™×)

---

## ğŸ“Š ×¡×™×›×•× ×•×¢×“×™×¤×•×™×•×ª

### ××˜×¨×™×¦×ª ×¢×“×™×¤×•×™×•×ª

| ×¤×™×¦'×¨ | ×¢×“×™×¤×•×ª | ××××¥ | ×¢×¨×š | ROI |
|-------|---------|------|-----|-----|
| 1. AI Code Assistant | ğŸ”´ ×’×‘×•×”×” | ğŸ”´ ×’×‘×•×” | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­â­ |
| 2. Team Collaboration | ğŸ”´ ×’×‘×•×”×” | ğŸ”´ğŸ”´ ×’×‘×•×” ×××•×“ | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­ |
| 3. Mobile App | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸ”´ğŸ”´ğŸ”´ ×××•×“ ×’×‘×•×” | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­ |
| 4. REST API Public | ğŸ”´ ×’×‘×•×”×” | ğŸ”´ğŸ”´ ×’×‘×•×” | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­â­ |
| 5. IDE Integrations | ğŸ”´ ×’×‘×•×”×” | ğŸ”´ğŸ”´ ×’×‘×•×” | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­ |
| 6. Code Playground | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸ”´ ×’×‘×•×” | ğŸŸ¢ğŸŸ¢ | â­â­â­ |
| 7. Advanced Analytics | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ | â­â­â­ |
| 8. Git Integration | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸ”´ ×’×‘×•×” | ğŸŸ¢ğŸŸ¢ | â­â­â­ |
| 9. Learning Mode | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ | â­â­â­ |
| 10. DB Optimization | ğŸ”´ ×’×‘×•×”×” | ğŸŸ¡ ×‘×™× ×•×š | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­â­ |
| 11. Bundle Optimization | ğŸ”´ ×’×‘×•×”×” | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­â­ |
| 12. Security Hardening | ğŸ”´ ×’×‘×•×”×” | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­â­ |
| 13. Dark Mode Toggle | ğŸŸ¢ × ××•×›×” | ğŸŸ¢ × ××•×š | ğŸŸ¢ğŸŸ¢ | â­â­â­â­ |
| 14. Version Diff Viewer | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­ |
| 15. Slack/Discord | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ | â­â­â­ |
| 16. GitLab/Bitbucket | ğŸŸ¢ × ××•×›×” | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ | â­â­ |
| 17. Kubernetes | ğŸŸ¢ × ××•×›×” | ğŸ”´ğŸ”´ ×’×‘×•×” ×××•×“ | ğŸŸ¢ğŸŸ¢ | â­â­ |
| 18. CI/CD Improvements | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­ |
| 19. Video Tutorials | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ğŸŸ¢ | â­â­â­â­ |
| 20. Accessibility | ğŸŸ¡ ×‘×™× ×•× ×™×ª | ğŸŸ¡ ×‘×™× ×•× ×™ | ğŸŸ¢ğŸŸ¢ | â­â­â­ |

### ×ª×•×›× ×™×ª ××•××œ×¦×ª (6 ×—×•×“×©×™×)

#### Phase 1 (×—×•×“×©×™× 1-2): Quick Wins + Foundation
1. âœ… Database Query Optimization (×©×‘×•×¢ 1)
2. âœ… WebApp Bundle Optimization (×©×‘×•×¢ 2)
3. âœ… Security Hardening (×©×‘×•×¢ 3)
4. âœ… Dark Mode Toggle (×©×‘×•×¢ 4)
5. âœ… Version Diff Viewer (×©×‘×•×¢×•×ª 5-6)
6. âœ… CI/CD Improvements (×©×‘×•×¢ 7-8)

**×ª×•×¦××”:** ×‘×™×¦×•×¢×™× ××©×•×¤×¨×™×, ××‘×˜×—×” ×˜×•×‘×” ×™×•×ª×¨, UX ××©×•×¤×¨

#### Phase 2 (×—×•×“×©×™× 3-4): Major Features
1. ğŸ”¥ REST API Public (×©×‘×•×¢×•×ª 9-12)
2. ğŸ”¥ AI Code Assistant (×©×‘×•×¢×•×ª 13-15)
3. âœ¨ Advanced Analytics (×©×‘×•×¢ 16)

**×ª×•×¦××”:** ×¤×™×¦'×¨×™× ××‘×“×œ×™×, ×¤×ª×™×—×” ×œ-developers ×—×™×¦×•× ×™×™×, AI capabilities

#### Phase 3 (×—×•×“×©×™× 5-6): Expansion
1. ğŸš€ IDE Integrations - VSCode (×©×‘×•×¢×•×ª 17-20)
2. ğŸ‘¥ Team Collaboration (×©×‘×•×¢×•×ª 21-24)
3. ğŸ“š Video Tutorials & Documentation (×‘××§×‘×™×œ)

**×ª×•×¦××”:** ×”×¨×—×‘×ª ×§×”×œ ×”××©×ª××©×™×, ×¤×™×¦'×¨×™× ×¦×•×•×ª×™×™×

#### Future (×—×•×“×©×™× 7+):
- ğŸ“± Mobile App (×¨×§ ×× ×™×© ×“×¨×™×©×” ×•××©××‘×™×)
- ğŸ¨ Code Playground
- ğŸ”— Git Integration ××œ×
- ğŸ“ Learning Mode
- ğŸ”Œ Slack/Discord Integration

---

## ğŸ’¡ ×¨×¢×™×•× ×•×ª × ×•×¡×¤×™× (×œ×˜×•×•×— ××¨×•×š)

### 21. Monetization Ideas

**Premium Tier (ğŸ’):**
- AI features unlimited
- Advanced analytics
- Team workspaces (5+ members)
- Priority support
- Custom branding
- API access unlimited
- Storage: 10GB (vs 1GB free)

**××—×™×¨ ××•×¦×¢:** $9/month ××• $90/year

**Enterprise Tier (ğŸ¢):**
- Everything in Premium
- SSO/SAML
- Audit logs
- On-premise deployment option
- SLA 99.9%
- Dedicated support
- Custom integrations

**××—×™×¨ ××•×¦×¢:** $49/month per team (min 10 users)

### 22. Marketplace

**××” ×–×”:**
- ×—× ×•×ª ×ª×‘× ×™×•×ª ×§×•×“
- ×¤×œ××’×™× ×™× ×œ×‘×•×˜
- Themes ×œ-WebApp
- Extensions ×œ-IDE plugins

**×“×•×’××”:**
```python
# marketplace/models.py
@dataclass
class MarketplaceItem:
    item_id: str
    type: str  # template, plugin, theme, extension
    name: str
    description: str
    author_id: int
    price: float  # 0 = free
    downloads: int
    rating: float
    screenshots: List[str]
    code_url: str
    created_at: datetime
```

### 23. Code Competitions

**××” ×–×”:**
- ××ª×’×¨×™× ×©×‘×•×¢×™×™×
- Leaderboards
- Prizes/badges
- Community voting

**×“×•×’××”:**
```
ğŸ“£ ××ª×’×¨ ×”×©×‘×•×¢: "Longest Prime Chain"

×›×ª×•×‘ ×¤×•× ×§×¦×™×” ×©××•×¦××ª ××ª ×©×¨×©×¨×ª ×”××¡×¤×¨×™× ×”×¨××©×•× ×™×™× ×”××¨×•×›×” ×‘×™×•×ª×¨.

ğŸ† ×¤×¨×¡×™×:
1st: ğŸ’ Premium ×—×•×“×© ×—×™× ×
2nd-3rd: ğŸ–ï¸ Badge ××™×•×—×“

â° ×–××Ÿ: ×¢×“ ×™×•× ×©×™×©×™ 23:59

/compete join
```

### 24. Browser Extension

**××” ×–×”:**
- Save code from any website
- GitHub code to CodeKeeper
- Stack Overflow snippets
- Quick search

```javascript
// chrome-extension/content.js
chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
    if (request.action === 'saveCode') {
        const code = window.getSelection().toString();
        const language = detectLanguage(code);

        // Send to CodeKeeper API
        fetch('https://api.codekeeper.com/v1/files', {
            method: 'POST',
            headers: {
                'X-API-Key': getApiKey(),
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                filename: `snippet_${Date.now()}.${getExtension(language)}`,
                code,
                language,
                tags: ['web', window.location.hostname]
            })
        });
    }
});
```

---

## ğŸ¯ ×¡×™×›×•× ×•×”××œ×¦×•×ª ×¡×•×¤×™×•×ª

### ××” ×œ×¢×©×•×ª ×§×•×“×?

**ğŸ”´ ×¢×“×™×¤×•×ª ××™×™×“×™×ª (×¢×›×©×™×•!):**
1. **Database Optimization** - ×©×™×¤×•×¨ ×‘×™×¦×•×¢×™× ××™×™×“×™
2. **Security Hardening** - CSRF, CSP, rate limiting
3. **Bundle Optimization** - WebApp ××”×™×¨ ×™×•×ª×¨

**ğŸŸ¡ ×¢×“×™×¤×•×ª ×’×‘×•×”×” (×—×•×“×© 1-2):**
1. **REST API Public** - ×¤×•×ª×— ××ª ×”×‘×•×˜ ×œ-integrations
2. **AI Code Assistant** - ×¤×™×¦'×¨ ××‘×“×œ
3. **Version Diff Viewer** - ×¤×™×¦'×¨ ×—×¡×¨ ×—×©×•×‘

**ğŸŸ¢ ×¢×“×™×¤×•×ª ×‘×™× ×•× ×™×ª (×—×•×“×©×™× 3-6):**
1. **IDE Integrations** - VSCode extension
2. **Team Collaboration** - workspaces ××©×•×ª×¤×™×
3. **Advanced Analytics** - insights ×œ××©×ª××©×™×

### × ×§×•×“×•×ª ××¤×ª×—

âœ… **×”×¤×¨×•×™×§×˜ ×‘××¦×‘ ××¦×•×™×Ÿ** - ×§×•×“ ××™×›×•×ª×™, ×˜×¡×˜×™×, ×ª×©×ª×™×ª ×—×–×§×”
ğŸš€ **×¤×•×˜× ×¦×™××œ ×¢× ×§** - ×¢× AI ×•-API ×™×”×¤×•×š ×œ××•×¦×¨ ××•×‘×™×œ
ğŸ’° **××¤×©×¨×•×™×•×ª monetization** - Premium tier, Teams, Enterprise
ğŸŒ **×§×”×™×œ×”** - Community library + snippet library ×›×‘×¨ ×§×™×™××™×

### ×”×× ×—×¡×¨ ××©×”×•?

×›××¢×˜ ×”×›×œ ×›×‘×¨ ×§×™×™×! ×©×™×¤×•×¨×™× ×¢×™×§×¨×™×™×:
- AI capabilities (×”×—×¡×¨ ×”×›×™ ×’×“×•×œ)
- Public API (×¤×•×ª×— ×“×œ×ª×•×ª)
- IDE plugins (workflow ×—×œ×§)
- Team features (B2B market)

---

**××¡××š ×–×” × ×•×¦×¨ ×‘×ª××¨×™×š:** × ×•×‘××‘×¨ 2025
**×’×¨×¡×”:** 1.0
**××—×‘×¨:** Claude (AI Assistant)
**×¡×˜×˜×•×¡:** âœ… Complete

---

## ğŸ“ ×©××œ×•×ª? ×”×¦×¢×•×ª × ×•×¡×¤×•×ª?

×¤× ×” ××œ:
- **GitHub Issues**: https://github.com/amirbiron/CodeBot/issues
- **Telegram**: @moominAmir
- **Email**: amirbiron@gmail.com

---

**ğŸŒŸ ×‘×”×¦×œ×—×” ×¢× ×”××©×š ×”×¤×™×ª×•×—!**
