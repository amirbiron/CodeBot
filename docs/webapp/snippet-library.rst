×¡×¤×¨×™×™×ª ×¡× ×™×¤×˜×™× (Web)
======================

××” ×–×”?
------
"×¡×¤×¨×™×™×ª ×¡× ×™×¤×˜×™×" ×”×™× ×’×œ×¨×™×™×ª ×§×˜×¢×™ ×§×•×“ ×§×¦×¨×™× ×¢× ×”×“×’×©×ª ×ª×—×‘×™×¨, ×—×™×¤×•×© ×•×¡×™× ×•×Ÿ.
×”×¡×¤×¨×™×™×” ××¦×™×’×” ×’× ×¡× ×™×¤×˜×™× ×©×”×•×’×©×• ×¢"×™ ××©×ª××©×™× (×œ××—×¨ ××™×©×•×¨ ××“××™×Ÿ), ×•×’× ×¡× ×™×¤×˜×™× ××•×‘× ×™×
(Curated) ×©××¡×•×¤×§×™× ×›×—×œ×§ ××”××¢×¨×›×ª.

×××¤×™×™× ×™ UI
-----------
- ×¨×©×™××” ××ª×§×¤×œ×ª: ×›×œ ×¤×¨×™×˜ ××•×¦×’ ×›×›×•×ª×¨×ª × ×¤×ª×—×ª (``<details>``/``<summary>``). ×œ×—×™×¦×” ×¤×•×ª×—×ª ××ª ×”×§×•×“.
- ×”×“×’×©×ª ×ª×—×‘×™×¨: Highlight.js × ×˜×¢×Ÿ ×“×™× ××™×ª ×•××“×’×™×© ×§×•×“ ×‘×¢×ª ×¤×ª×™×—×ª ×”×¤×¨×™×˜.
- ×§×¨×“×™×˜ ××—×‘×¨: ××•×¦×’ "× ×•×¡×£ ×¢×œ ×™×“×™ @username" (×× ×§×™×™×) ×œ×¦×“ ×”×©×¤×” ×©×œ ×”×¡× ×™×¤×˜.

API â€“ JSON
-----------
× ×ª×™×‘: ``GET /api/snippets``

×¤×¨××˜×¨×™×:
- ``q`` â€“ ×—×™×¤×•×© ×—×•×¤×©×™ ×‘×›×•×ª×¨×ª/×ª×™××•×¨/×§×•×“ (××•×¤×¦×™×•× ×œ×™)
- ``language`` â€“ ×¡×™× ×•×Ÿ ×œ×¤×™ ×©×¤×” (××•×¤×¦×™×•× ×œ×™)
- ``page`` â€“ ×¢××•×“ (×‘×¨×™×¨×ª ××—×“×œ: 1)
- ``per_page`` â€“ ×’×•×“×œ ×¢××•×“ (×‘×¨×™×¨×ª ××—×“×œ: 30, ××§×¡×™××•×: 60)

×ª×’×•×‘×” (×“×•×’××”):

.. code-block:: json

   {
     "ok": true,
     "items": [
       {
         "title": "×–××Ÿ ×™×—×¡×™ ×‘×¢×‘×¨×™×ª (TimeUtils.format_relative_time)",
         "description": "×¤×•×¨××˜ ×–××Ÿ ×™×—×¡×™ ×‘×¢×‘×¨×™×ª (×œ×¤× ×™ X ×“×§×•×ª/××ª××•×œ).",
         "code": "...",
         "language": "python",
         "username": "CodeBot",
         "approved_at": "2025-11-10T13:37:00+00:00"
       }
     ],
     "page": 1,
     "per_page": 30,
     "total": 42
   }

OpenAPI (×ª×§×¦×™×¨)
~~~~~~~~~~~~~~~~

.. code-block:: yaml

   get:
     summary: List public snippets (approved + curated)
     parameters:
       - in: query
         name: q
         schema: { type: string }
       - in: query
         name: language
         schema: { type: string }
       - in: query
         name: page
         schema: { type: integer, default: 1, minimum: 1 }
       - in: query
         name: per_page
         schema: { type: integer, default: 30, minimum: 1, maximum: 60 }
     responses:
       '200': { description: Snippets page }
       '500': { description: Internal error }

JSON Schema (Response)
~~~~~~~~~~~~~~~~~~~~~~

.. code-block:: json

   {
     "type": "object",
     "properties": {
       "ok": { "type": "boolean" },
       "items": {
         "type": "array",
         "items": {
           "type": "object",
           "properties": {
             "title": { "type": "string" },
             "description": { "type": "string" },
             "code": { "type": "string" },
             "language": { "type": "string" },
             "username": { "type": "string", "nullable": true },
             "approved_at": { "type": "string", "format": "date-time", "nullable": true }
           }
         }
       },
       "page": { "type": "integer" },
       "per_page": { "type": "integer" },
       "total": { "type": "integer" }
     }
   }

×”×¢×¨×•×ª:
- ×‘×¢××•×“ ×”×¨××©×•×Ÿ ×™×™×ª×›× ×• ×¡× ×™×¤×˜×™× "××•×‘× ×™×" (curated) ×‘× ×•×¡×£ ×œ×¤×¨×™×˜×™ DB â€“ ×”××¢×¨×š ×××•×—×“ ×œ×œ× ×›×¤×™×œ×•×™×•×ª ×œ×¤×™ ×›×•×ª×¨×ª.
- ×”×©×“×” ``username`` (×× ×§×™×™×) ××•×¦×’ ×‘-UI ×¢×‘×•×¨ ×§×¨×“×™×˜.

×›×œ×œ×™ ×“×¤×“×•×£/×¡×¤×™×¨×”
~~~~~~~~~~~~~~~~~~
- ××™×—×•×“ Curated+DB ××ª×‘×¦×¢ ×¨×§ ×œÖ¾page=1; ×‘×¢××•×“×™× ×”×‘××™× ×™×•×—×–×¨ DB ×‘×œ×‘×“.
- ``total`` ×›×•×œ×œ ×’× ××ª ×›××•×ª ×”â€‘curated ×”×ª×•×××™× (×’× ×× ××™× × ×‘×¢××•×“ ×”××‘×•×§×©).
- ``per_page`` × ×—×ª×š ×œÖ¾[1..60].

×©×’×™××•×ª
~~~~~~~
- 200 ×¢× ``ok: true`` ×‘×”×¦×œ×—×”.
- 500 ×¢× ``{"ok": false, "error": "internal_error"}`` ×‘××§×¨×” ×—×¨×™×’.

×“×•×’×××•×ª cURL
~~~~~~~~~~~~~

.. code-block:: bash

   # ×¢××•×“ ×¨××©×•×Ÿ, 30 ×¤×¨×™×˜×™×
   curl -sS \
     'https://example.com/api/snippets?page=1&per_page=30' \
     -H 'Accept: application/json'

.. code-block:: bash

   # ×¡×™× ×•×Ÿ ×œ×¤×™ ×©×¤×” ×•×—×™×¤×•×© ×—×•×¤×©×™
   curl -sS \
     'https://example.com/api/snippets?language=python&q=markdown' \
     -H 'Accept: application/json'

.. code-block:: bash

   # ×œ×œ× ×ª×•×¦××•×ª â€“ ×—×•×–×¨ items=[] ×•-total=0
   curl -sS 'https://example.com/api/snippets?q=__no_such__' -H 'Accept: application/json'

×”×’×©×•×ª, ××™×©×•×¨ ×•× ×™×”×•×œ (××“××™×Ÿ)
---------------------------
- ×ª×•×¨ ×××ª×™× ×™×: ``/admin/snippets/pending`` â€“ ×¦×¤×™×™×” ×‘×”×’×©×•×ª ×××ª×™× ×•×ª.
- ×¦×¤×™×™×” ×‘×¤×¨×™×˜: ``/admin/snippets/view?id=<id>`` â€“ ××¦×™×’ ×§×•×“ ××œ× + ×›×¤×ª×•×¨×™ "âœï¸ ×¢×¨×•×š" ×•"ğŸ—‘ï¸ ××—×§".
- ×¢×¨×™×›×”: ``/admin/snippets/edit?id=<id>`` (GET/POST) â€“ ×¢×“×›×•×Ÿ ×›×•×ª×¨×ª/×ª×™××•×¨/×©×¤×”/×§×•×“.
- ××—×™×§×”: ``POST /admin/snippets/delete?id=<id>``.

×”×’×©×” ×“×¨×š ×”×‘×•×˜
--------------
- ×ª×¤×¨×™×˜ ×¨××©×™ > "××•×¡×£ ×”×§×”×™×œ×”" > "×¡×¤×¨×™×™×ª ×¡× ×™×¤×˜×™×" > "×”×•×¡×£ ×¡× ×™×¤×˜ ××©×œ×š".
- ××¡×š ×¤×ª×™×—×” ××¦×™×¢ ×©× ×™ ××¦×‘×™×: "ğŸ§© ×§×•×“ ×¨×’×™×œ" ×•"âœï¸ ×§×•×“ ××¨×•×š".
- "×§×•×“ ××¨×•×š": × ×™×ª×Ÿ ×œ×©×œ×•×— ××ª ×”×§×•×“ ×‘××¡×¤×¨ ×”×•×“×¢×•×ª ×•×œ×¡×™×™× ×‘Ö¾``/done`` (×œ××—×¨ ××›×Ÿ ×××©×™×›×™× ×›×¨×’×™×œ ×œ×‘×—×™×¨×ª ×›×•×ª×¨×ª/×ª×™××•×¨/×©×¤×”).
- ×‘×™×˜×•×œ: ``âŒ ×‘×™×˜×•×œ`` ××• ×œ×—×™×¦×” ×¢×œ ×›×œ ×›×¤×ª×•×¨ ××—×¨ â€“ ×ª×‘×˜×œ ×•×ª× ×§×” ××¦×‘ ××™×¡×•×£.

UI ×‘×‘×•×˜ â€“ ×”×¡×¨×•×ª ×•×©×™×¤×•×¨×™×
------------------------
- ××ª×¤×¨×™×˜ "ğŸ“š ×”×¦×’ ××ª ×›×œ ×”×§×‘×¦×™× ×©×œ×™" ×”×•×¡×¨×• ×§×™×¦×•×¨×™ "××•×¡×£ ×”×§×”×™×œ×”"/"×”×•×¡×£ ××•×¦×¨ ××©×œ×š" (× ××¦××™× ×›×‘×¨ ×‘×ª×¤×¨×™×˜ ×”×¨××©×™).
- ×©××•×ª ×›×¤×ª×•×¨×™× ×¢×•×“×›× ×•: "×¡×¤×¨×™×™×ª ×¡× ×™×¤×˜×™× (web ğŸŒ)" ×•"×××©×§×™ ××©×ª××©×™× (web ğŸŒ)".
