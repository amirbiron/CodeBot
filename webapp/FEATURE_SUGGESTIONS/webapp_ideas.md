## רעיונות חדשים וממוקדי־משתמש ל־WebApp (ללא כפילויות)

תאריך: 2025-12-18

### מה המסמך הזה כן עושה
- מציע **רעיונות חדשים** שלא כבר כתובים במסמכי `webapp/FEATURE_SUGGESTIONS`.
- מתמקד במה שמשפר באמת את החיים של משתמשים: חיפוש/קריאה/עריכה/ארגון/אמינות.
- נותן כיוון יישומי (איפה זה יושב בממשק ומה צריך).

### מה המסמך הזה לא מציע (בכוונה)
- **שיתופי קהילה** / פיד ציבורי / “פופולרי בקהילה”.
- **סוכן AI לבוט** או “תן ל‑AI לעשות הכל”.
- כפילויות של מסמכים קיימים (לדוגמה: CodeMirror, חיפוש גלובלי בתוכן, TOC צף, Multi‑select, Collections, Caching/CSRF/Rate‑Limit וכו’).

---

## Quick Wins (אימפקט גבוה, מאמץ נמוך‑בינוני)

### 1) “תיקיית תמונות” חכמה + מנהל קבצים מצורפים
- **הבעיה**: משתמשים מעלים תמונות ל‑Markdown ואז מאבדים שליטה: מה בשימוש? מה אפשר למחוק?
- **מה המשתמש רואה**: מסך קטן (מתוך `md_preview`/`edit_file`) שמציג:
  - רשימת תמונות שהועלו (thumbnail, שם, גודל, תאריך)
  - “בשימוש ב‑X קבצים” + קישור לקבצים שמפנים לתמונה
  - כפתור **העתק קישור Markdown** / **שנה שם** / **מחק בבטחה**
- **איך מממשים בקצרה**: אינדוקס הפניות `![]()` בקבצי Markdown של המשתמש + API קטן לניהול.

### 2) אינדקס פתקים דביקים (Sticky Notes Inbox)
- **הבעיה**: פתקים דביקים עובדים טוב בתוך מסמך, אבל קשה למצוא “מה מחכה לי” across כל הקבצים.
- **מה המשתמש רואה**: דף “הפתקים שלי” עם:
  - סינון: “מוצמדים”, “עם תזכורת לשבוע הקרוב”, “ללא שיוך/ישן”
  - חיפוש בטקסט הפתק
  - פעולות מהירות: “דחה שעה”, “סמן בוצע”, “פתח את המסמך בנקודה”
- **איך מממשים בקצרה**: API שמחזיר את רשימת הפתקים של המשתמש (כבר נשמרים), עם אינדקס קל לשדות טקסט/תאריך.

### 3) יצירת קובץ חדש מתוך בחירה (Selection → New Snippet)
- **הבעיה**: יש קטע קוד בתוך קובץ גדול שרוצים להפוך ל‑snippet עצמאי מהר.
- **מה המשתמש רואה**: ב‑`view_file` וב‑`edit_file` כפתור “צור קובץ מהבחירה”.
  - שואל: שם קובץ, שפה (מוצעת אוטומטית), תגיות (אופציונלי)
  - שומר כקובץ חדש ופותח אותו לעריכה
- **איך מממשים בקצרה**: קליינט שולח את הטקסט המסומן + מטא‑דאטה, השרת יוצר snippet חדש.

### 4) תצוגה “קלה” לקבצים גדולים (Large File Safe Viewer)
- **הבעיה**: קבצים גדולים/עם הדגשת תחביר כבדה יכולים להקפיא דפדפן.
- **מה המשתמש רואה**: אם קובץ מעל סף (למשל לפי `file_size`/`lines_count`):
  - פתיחה כברירת מחדל ב”מצב קל” (בלי highlight, טעינת שורות הדרגתית)
  - כפתור “הפעל הדגשה בכל זאת” עם אזהרה
- **איך מממשים בקצרה**: תצוגה עם virtualized rendering (רק מה שרואים), והדגשה אופציונלית/חלקית.

### 5) בדיקת “קישורים שבורים” ב‑Markdown
- **הבעיה**: `![]()` לתמונה שלא קיימת, או קישור פנימי/חיצוני שנשבר — מגלים מאוחר.
- **מה המשתמש רואה**: בכפתור “בדוק מסמך” ב‑`md_preview`:
  - רשימת בעיות עם “קפוץ לשורה/כותרת”
  - הצעה אוטומטית לתיקון קישור (אם יש התאמה קרובה בשמות תמונות)
- **איך מממשים בקצרה**: סריקה מהירה של HTML/Markdown שהמערכת כבר מייצרת + בדיקות HEAD לקישורים חיצוניים (רק אם המשתמש מפעיל).

### 6) “אזהרת סודות” לפני שיתוף/הורדה
- **הבעיה**: קל בטעות לשתף/להוריד קובץ עם טוקן/סיסמה/מפתח API.
- **מה המשתמש רואה**: לפני פעולת “Share/Download”:
  - אם נמצא חשד לסוד: מודאל “זוהה מידע רגיש” עם highlight קצר
  - אפשרות: “בטל”, “המשך בכל זאת”, “הורד/שתף בגרסה מושחרת”
- **איך מממשים בקצרה**: סט חוקים פשוט (regex allowlist) + השחרה שמחליפה רק את הערך (לא כל השורה).

### 7) תצוגת JSON/YAML ידידותית (Fold + Path Copy)
- **הבעיה**: קונפיגים גדולים קשה לקרוא ולנווט.
- **מה המשתמש רואה**: ב‑`view_file` לקבצי JSON/YAML:
  - קיפול ענפים
  - חיפוש לפי מפתח
  - כפתור “העתק נתיב” (למשל `alerts.rules[3].threshold`)
- **איך מממשים בקצרה**: פרסינג בצד לקוח, render עץ, בלי תלות בבנדלר.

### 8) מצב “מצגת” ל‑Markdown (Presenter Mode)
- **הבעיה**: משתמשים רוצים להציג מסמך (Runbook/דוק) במסך גדול בצורה נקייה.
- **מה המשתמש רואה**: כפתור “מצגת” ב‑`md_preview`:
  - הגדלת פונט חכמה, הסתרת רעשים, ניווט עם מקשים
  - “הדגש שורה/בלוק” (כמו spotlight) כדי להוביל קהל
- **איך מממשים בקצרה**: CSS + מעט JS, שמירה ב‑localStorage.

---

## פיצ’רים בינוניים‑גדולים (אימפקט גבוה, מאמץ בינוני‑גבוה)

### 9) שדרוג Mermaid (כבר נתמך) – חוויית שימוש, יצוא וביצועים
- **הבעיה**: יש Mermaid, אבל חסרים “דברים קטנים” שמאפשרים להשתמש בזה ביומיום: יצוא, שגיאות ברורות, Theme אחיד, ורינדור שלא מכביד במסמכים ארוכים.
- **מה המשתמש רואה**:
  - כפתורי פעולה על כל דיאגרמה: **הצג מקור**, **העתק מקור**, **הורד SVG**, **הורד PNG**
  - תמיכה ב‑**Dark/Light** עקבית לפי ה‑Theme של האתר
  - הודעת שגיאה ידידותית (ואם אפשר גם רמיזה איפה הבעיה) במקום “Mermaid render failed”
  - **Lazy render**: דיאגרמות מרונדרות רק כשהן נכנסות למסך (שיפור ביצועים במסמכים גדולים)
- **איך מממשים בקצרה**:
  - להשתמש במימוש הקיים ב‑`md_preview` ולהוסיף wrapper UI סביב כל בלוק Mermaid
  - יצוא SVG מהפלט הקיים, והמרה ל‑PNG בצד לקוח
  - לחבר theme variables ל‑Mermaid config, ולהפעיל render מחדש רק כשבאמת צריך
  - להפעיל IntersectionObserver כדי לרנדר רק כשנכנס ל‑viewport

### 10) “Runbook Runner” בממשק אדמין (מבוסס `observability_runbooks.yml`)
- **הבעיה**: Runbooks קיימים, אבל בזמן אמת צריך UI שמוביל אותך שלב‑שלב בלי להעתיק/לאבד מצב.
- **מה המשתמש רואה**: במסך אדמין:
  - בחירת סוג אירוע → רשימת צעדים עם checkbox
  - לכל צעד: כפתור copy, קישור, הערות
  - בסוף: “ייצא דוח אירוע” (Markdown) עם מה בוצע ומתי
- **איך מממשים בקצרה**: לקרוא את ה‑YAML הקיים ולהפוך אותו ל־UI עם state פר משתמש/אירוע.

### 11) שילוב “Quick Fixes” בפועל בתוך ה‑Runbook
- **הבעיה**: יש `alert_quick_fixes.json`, אבל הערך האמיתי הוא כשזה יושב מול העיניים בזמן טיפול.
- **מה המשתמש רואה**: כאשר בוחרים alert/runbook:
  - “תיקונים מהירים” לפי severity עם כפתורי copy/link
  - תיעוד “הפעלתי תיקון X” בתוך דוח האירוע
- **איך מממשים בקצרה**: התאמה בין סוג אירוע/alert key ל‑quick fixes, בלי לוגיקה מסובכת.

### 12) Config Radar: “Drift” + Diff בין snapshots
- **הבעיה**: קשה לדעת מה השתנה בקונפיגים מאז אתמול/מאז דיפלוי.
- **מה המשתמש רואה**: במסך Config Radar:
  - “מה השתנה מאז snapshot אחרון” (diff על שדות)
  - highlight של ערכים שנעלמו/נוספו
  - “סיכון משוער” לפי כללים פשוטים (למשל שינוי סף התראה)
- **איך מממשים בקצרה**: שמירת snapshots קטנים (hash + metadata) והשוואה ברמת מפתחות.

### 13) “תצוגת תלויות” למסמכי Markdown (Backlinks ל‑Images/Files)
- **הבעיה**: כשמוחקים תמונה/מסמך, לא יודעים מי תלוי בו.
- **מה המשתמש רואה**: בכל `md_preview`:
  - “מוזכר ב…” (מסמכים אחרים שמקשרים לכאן)
  - “משתמש בתמונות…” (ולחיצה לפתיחה)
- **איך מממשים בקצרה**: אינדוקס תקופתי קל (או on-save) של קישורים בין מסמכים, רק למשתמש עצמו.

### 14) בדיקות איכות בסיסיות לפני שמירה (Markdown/Code Hygiene)
- **הבעיה**: דברים קטנים כמו trailing spaces/שורות ריקות/כותרות לא עקביות יוצרים מסמכים לא נעימים.
- **מה המשתמש רואה**: “בדוק לפני שמירה” עם:
  - רשימת אזהרות (לא חוסם)
  - “תקן אוטומטית” רק לדברים בטוחים (למשל להסיר trailing spaces)
- **איך מממשים בקצרה**: לוגיקה קלה בצד לקוח (או שרת), בלי formatter אגרסיבי.

### 15) “Pinned Home” אישי: מסך בית שהמשתמש מסדר
- **הבעיה**: דשבורד טוב, אבל לכל אחד יש “מה חשוב לי” אחר.
- **מה המשתמש רואה**: אפשר לגרור/להסתיר כרטיסים:
  - “קבצים שפתחתי השבוע”, “פתקים עם תזכורת”, “מועדפים”, “מסמכי runbook”
- **איך מממשים בקצרה**: UI prefs קיימים + שמירת סדר/נראות כ‑JSON בהגדרות.

---

## רעיונות UI קטנים (כמעט תמיד משתלם)

### 16) “העתק כ‑Markdown” לכל בלוק קוד בתצוגה
- **מה זה נותן**: להדביק למסמך אחר/טיקט ישר עם ```language …```.

### 17) מצב “שקט” להודעות מערכת
- **מה זה נותן**: לשלוט על הודעות/טוסטים כדי לא להציק בזמן עבודה.

### 18) כפתור “נקה הסחות” בזמן עריכה
- **מה זה נותן**: מסתיר זמנית panels/כפתורים לא קריטיים (בלי להחליף layout מלא).

### 19) טמפלטים קלים לשמות קבצים
- **מה זה נותן**: יצירה מהירה כמו `runbook-YYYY-MM-DD.md` או `incident-<id>.md`.

### 20) “היסטוריית העתקות” מקומית (רק בדפדפן)
- **מה זה נותן**: חזרה ל‑5 ההעתקות האחרונות בלי לשמור בשרת ובלי סיכון פרטיות.

---

## סדר מומלץ לביצוע
- **שבוע‑שבועיים**: (1) מנהל תמונות, (2) אינדקס פתקים, (3) Selection→Snippet, (4) Safe Viewer.
- **חודש+**: (10) Runbook Runner, (12) Config Drift, (9) שדרוג Mermaid.

