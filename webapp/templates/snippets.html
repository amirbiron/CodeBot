{% extends "base.html" %}

{% block title %} 住驻专转 住驻{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/community_library.css?v={{ static_version }}">
<link rel="stylesheet" href="/static/css/snippets.css?v={{ static_version }}">
<!-- Highlight.js theme (matches file viewer dark style) - via jsDelivr (allowed by CSP) -->
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.9.0/styles/github-dark-dimmed.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.9.0/styles/github-dark-dimmed.min.css"></noscript>
{% endblock %}

{% block content %}
<div class="community-header">
  <div class="title">
    <h1> 住驻专转 住驻</h1>
    <p class="subtitle">专 住驻  注转拽 - 驻砖 驻 砖驻, 转专转  转专</p>
  </div>
  <div class="actions">
    <a class="btn primary" href="/snippets/submit">+ 住祝 住驻 砖</a>
  </div>
</div>
<script>window.__isAdmin = {{ 'true' if is_admin else 'false' }};</script>

<div class="community-controls">
  <input id="q" type="text" placeholder=" 驻砖 驻 转专转  转专..." />
  <input id="language" type="text" placeholder="砖驻 (砖: python)" list="languagesList" />
  <button id="searchBtn" class="btn btn-primary">驻砖</button>
  
</div>

<div id="results" class="community-grid"></div>

<nav id="pager" style="display:flex; gap:.5rem; justify-content:center; margin-top:1rem;"></nav>
<datalist id="languagesList"></datalist>
{% endblock %}

{% block extra_js %}
<!-- Highlight.js core (via jsDelivr) -->
<script defer src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<!-- Highlight.js line numbers plugin (via jsDelivr) -->
<script defer src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.11.0/dist/highlightjs-line-numbers.min.js"></script>
<!-- Our page script (runs after hljs is available due to defer order) -->
<script defer src="/static/js/snippets.js?v={{ static_version }}"></script>
{% endblock %}
