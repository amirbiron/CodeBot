{% extends "base.html" %}

{% block title %}×¦×¤×™×™×” ×‘×¡× ×™×¤×˜{% endblock %}

{% block extra_css %}
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.9.0/styles/github-dark-dimmed.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.9.0/styles/github-dark-dimmed.min.css"></noscript>
{% endblock %}

{% block content %}
<h1 class="page-title">ğŸ‘ï¸ ×¦×¤×™×™×” ×‘×¡× ×™×¤×˜</h1>

<div class="glass-card">
  {% if not item %}
    <div class="alert alert-warning">×”×¤×¨×™×˜ ×œ× × ××¦×.</div>
  {% else %}
    <h3 style="margin-top:0;">{{ item.title }}</h3>
    <div class="text-muted" style="margin-bottom:.5rem;">
      {{ item.language }}{% if item.username %} Â· × ×•×¡×£ ×¢×œ ×™×“×™ @{{ item.username }}{% endif %}
    </div>
    {% if item.description %}<p>{{ item.description }}</p>{% endif %}
    <pre class="code-block"><code class="language-{{ item.language|e }}" dir="ltr">{{ item.code }}</code></pre>
    <div class="form-row" style="display:flex; gap:.5rem; margin-top: .75rem;">
      <a class="btn btn-primary" href="/admin/snippets/edit?id={{ item_id }}">âœï¸ ×¢×¨×•×š</a>
      <form method="post" action="/admin/snippets/delete?id={{ item_id }}" onsubmit="return confirm('×œ××—×•×§ ××ª ×”×¡× ×™×¤×˜?');">
        <button class="btn btn-danger" type="submit">ğŸ—‘ï¸ ××—×§</button>
      </form>
    </div>
  {% endif %}
</div>

<a class="btn btn-secondary" href="/admin/snippets/pending">â¬…ï¸ ×—×–×¨×” ×œ×¨×©×™××ª ×××ª×™× ×™×</a>
{% endblock %}

{% block extra_js %}
<script defer src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function(){
    if (window.hljs){ document.querySelectorAll('pre code').forEach(function(el){ try{ hljs.highlightElement(el); }catch(e){} }); }
  });
</script>
{% endblock %}
