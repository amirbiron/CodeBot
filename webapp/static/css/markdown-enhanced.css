/* ============================================
   עיצוב משופר לקטעים מתקפלים וכרטיסיות הסבר
   ============================================ */

/* === משתנים גלובליים === */
:root {
  --details-border: #e1e4e8;
  --details-bg: #ffffff;
  --details-hover: #f6f8fa;
  --summary-color: #24292e;
  --summary-bg: linear-gradient(to right, #f8f9fa, transparent);
  --summary-arrow-color: #586069;
  --admonition-radius: 8px;
  --animation-speed: 0.3s;
  --admonition-content-bg: rgba(255, 255, 255, 0.8);
  --admonition-content-text: inherit;
  --header-anchor-color: #6c757d;
  --header-anchor-hover: #0366d6;
  --tooltip-bg: rgba(0, 0, 0, 0.8);
  --tooltip-text: white;
}

/* === Dark themes override === */
:root[data-theme="dark"],
:root[data-theme="dim"],
:root[data-theme="nebula"] {
  --details-border: #30363d;
  --details-bg: #0d1117;
  --details-hover: #161b22;
  --summary-color: #c9d1d9;
  --summary-bg: linear-gradient(to right, rgba(22, 27, 34, 0.8), transparent);
  --summary-arrow-color: #8b949e;
  --admonition-content-bg: rgba(0, 0, 0, 0.3);
  --admonition-content-text: #c9d1d9;
  --header-anchor-color: #8b949e;
  --header-anchor-hover: #58a6ff;
  --tooltip-bg: rgba(255, 255, 255, 0.9);
  --tooltip-text: #000;
}

/* === Ocean theme override === */
:root[data-theme="ocean"] {
  --details-border: rgba(49, 130, 206, 0.35);
  --details-bg: rgba(26, 54, 93, 0.85);
  --details-hover: rgba(42, 67, 101, 0.9);
  --summary-color: #ffffff;
  --summary-bg: linear-gradient(to right, rgba(49, 130, 206, 0.15), transparent);
  --summary-arrow-color: rgba(255, 255, 255, 0.65);
  --admonition-content-bg: rgba(26, 54, 93, 0.5);
  --admonition-content-text: #e2e8f0;
  --header-anchor-color: rgba(255, 255, 255, 0.65);
  --header-anchor-hover: #63b3ed;
  --tooltip-bg: rgba(26, 54, 93, 0.95);
  --tooltip-text: #ffffff;
}

/* === Forest theme override === */
:root[data-theme="forest"] {
  --details-border: rgba(72, 187, 120, 0.35);
  --details-bg: rgba(20, 83, 45, 0.85);
  --details-hover: rgba(22, 101, 52, 0.9);
  --summary-color: #ffffff;
  --summary-bg: linear-gradient(to right, rgba(72, 187, 120, 0.15), transparent);
  --summary-arrow-color: rgba(255, 255, 255, 0.65);
  --admonition-content-bg: rgba(20, 83, 45, 0.5);
  --admonition-content-text: #e2e8f0;
  --header-anchor-color: rgba(255, 255, 255, 0.65);
  --header-anchor-hover: #68d391;
  --tooltip-bg: rgba(20, 83, 45, 0.95);
  --tooltip-text: #ffffff;
}

/* === Rose Pine Dawn theme override === */
:root[data-theme="rose-pine-dawn"] {
  --details-border: #dfdad9;
  --details-bg: #faf4ed;
  --details-hover: #f2e9e1;
  --summary-color: #575279;
  --summary-bg: linear-gradient(to right, rgba(242, 233, 225, 0.8), transparent);
  --summary-arrow-color: #9893a5;
  --admonition-content-bg: rgba(250, 244, 237, 0.8);
  --admonition-content-text: #575279;
  --header-anchor-color: #9893a5;
  --header-anchor-hover: #907aa9;
  --tooltip-bg: rgba(87, 82, 121, 0.9);
  --tooltip-text: #faf4ed;
}

/* === High Contrast theme override === */
:root[data-theme="high-contrast"] {
  --details-border: #ffffff;
  --details-bg: #000000;
  --details-hover: #1a1a1a;
  --summary-color: #ffffff;
  --summary-bg: linear-gradient(to right, rgba(255, 255, 255, 0.1), transparent);
  --summary-arrow-color: #ffffff;
  --admonition-content-bg: rgba(0, 0, 0, 0.8);
  --admonition-content-text: #ffffff;
  --header-anchor-color: #ffffff;
  --header-anchor-hover: #ffff00;
  --tooltip-bg: #ffffff;
  --tooltip-text: #000000;
}

/* === Classic theme override === */
:root[data-theme="classic"] {
  --details-border: #e1e4e8;
  --details-bg: #ffffff;
  --details-hover: #f6f8fa;
  --summary-color: #24292e;
  --summary-bg: linear-gradient(to right, #f8f9fa, transparent);
  --summary-arrow-color: #586069;
  --admonition-content-bg: rgba(255, 255, 255, 0.8);
  --admonition-content-text: inherit;
  --header-anchor-color: #6c757d;
  --header-anchor-hover: #0366d6;
  --tooltip-bg: rgba(0, 0, 0, 0.8);
  --tooltip-text: white;
}

/* === Custom theme override - uses CSS variables from the custom theme === */
:root[data-theme="custom"],
:root[data-theme^="shared:"] {
  --details-border: var(--glass-border, #30363d);
  --details-bg: var(--bg-secondary, #0d1117);
  --details-hover: var(--bg-tertiary, #161b22);
  --summary-color: var(--text-primary, #c9d1d9);
  --summary-bg: linear-gradient(to right, color-mix(in srgb, var(--bg-tertiary, #161b22) 80%, transparent), transparent);
  --summary-arrow-color: var(--text-muted, #8b949e);
  --admonition-content-bg: color-mix(in srgb, var(--bg-primary, #0d1117) 70%, transparent);
  --admonition-content-text: var(--text-primary, #c9d1d9);
  --header-anchor-color: var(--text-muted, #8b949e);
  --header-anchor-hover: var(--primary, #58a6ff);
  --tooltip-bg: var(--bg-tertiary, rgba(255, 255, 255, 0.9));
  --tooltip-text: var(--text-primary, #000);
  /* mark/highlight styling - yellow for visibility */
  --mark-bg: color-mix(in srgb, #ffd700 70%, var(--bg-primary, #0d1117) 30%);
  --mark-text: #1a1a1a;
}

/* === קטעים מתקפלים === */
.markdown-details {
  margin: 1rem 0;
  border: 1px solid var(--details-border);
  border-radius: 8px;
  background: var(--details-bg);
  overflow: hidden;
  transition: box-shadow var(--animation-speed) ease;
}

.markdown-details[open] {
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.08);
}

.markdown-summary {
  padding: 0.75rem 1rem;
  background: var(--summary-bg);
  cursor: pointer;
  user-select: none;
  font-weight: 600;
  color: var(--summary-color);
  display: flex;
  align-items: center;
  transition: background-color var(--animation-speed) ease;
  position: relative;
}

.markdown-summary:hover {
  background: var(--details-hover);
}

.markdown-summary::before {
  content: '▶';
  display: inline-block;
  margin-left: 0.5rem;
  font-size: 0.8em;
  transition: transform var(--animation-speed) ease;
  color: var(--summary-arrow-color);
}

.markdown-details[open] .markdown-summary::before {
  transform: rotate(90deg);
}

.markdown-summary::-webkit-details-marker { display: none; }

.details-content {
  padding: 1rem;
  border-top: 1px solid var(--details-border);
  animation: slideDown var(--animation-speed) ease-out;
}

/* === כרטיסיות הסבר === */
.admonition {
  margin: 1.25rem 0;
  border-radius: var(--admonition-radius);
  overflow: hidden;
  border-right: 4px solid;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

.admonition-title {
  padding: 0.75rem 1rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.admonition-content {
  padding: 1rem;
  background: var(--admonition-content-bg);
  color: var(--admonition-content-text);
}

.admonition-content > *:first-child { margin-top: 0; }
.admonition-content > *:last-child { margin-bottom: 0; }

/* סוגים */
.admonition-note { border-color: #0969da; background: #ddf4ff; }
.admonition-note .admonition-title { background: #b6e3ff; color: #0550ae; }

.admonition-tip { border-color: #1a7f37; background: #dafbe1; }
.admonition-tip .admonition-title { background: #aceebb; color: #116329; }

.admonition-warning { border-color: #9a6700; background: #fff8c5; }
.admonition-warning .admonition-title { background: #ffec99; color: #7d4e00; }

.admonition-danger { border-color: #cf222e; background: #ffebe9; }
.admonition-danger .admonition-title { background: #ffcecb; color: #a40e26; }

.admonition-info { border-color: #0969da; background: #ddf4ff; }
.admonition-info .admonition-title { background: #b6e3ff; color: #0550ae; }

.admonition-success { border-color: #1a7f37; background: #dafbe1; }
.admonition-success .admonition-title { background: #aceebb; color: #116329; }

/* סוגים נוספים */
.admonition-question { border-color: #8250df; background: #f5f0ff; }
.admonition-question .admonition-title { background: #e6dcfd; color: #5e3db3; }

.admonition-example { border-color: #1f6feb; background: #ddf4ff; }
.admonition-example .admonition-title { background: #b6e3ff; color: #0550ae; }

.admonition-quote { border-color: #57606a; background: #f6f8fa; }
.admonition-quote .admonition-title { background: #eaeef2; color: #24292f; }

.admonition-experimental { border-color: #bf8700; background: #fff1b6; }
.admonition-experimental .admonition-title { background: #ffe08a; color: #7d5b00; }

.admonition-deprecated { border-color: #8b949e; background: #f2f2f2; }
.admonition-deprecated .admonition-title { background: #e6e6e6; color: #555; }

.admonition-todo { border-color: #0969da; background: #e7f5ff; }
.admonition-todo .admonition-title { background: #cfe8ff; color: #0550ae; }

.admonition-abstract { border-color: #6e7781; background: #eef2f7; }
.admonition-abstract .admonition-title { background: #dce3ea; color: #374151; }

/* === אנימציות === */
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* === RTL === */
[dir="rtl"] .admonition { border-right: none; border-left: 4px solid; }
[dir="rtl"] .markdown-summary::before { margin-left: 0; margin-right: 0.5rem; }

/* === מובייל === */
@media (max-width: 768px) {
  .markdown-details, .admonition { margin: 0.75rem -0.5rem; border-radius: 0; }
  .admonition-content, .details-content { padding: 0.75rem; }
}

/* === מצב כהה מוגדר כעת ב-data-theme למעלה === */

/* === Header anchors & copy buttons accessibility additions === */
/* קישור עוגן (סמל בלבד) שמתווסף אחרי הכותרת; לא מסתיר טקסט הכותרת */
.header-anchor {
  margin-left: 0.5em;
  opacity: 0;
  color: var(--header-anchor-color);
  text-decoration: none;
  font-size: 0.9em;
  transition: opacity 0.2s ease, color 0.2s ease;
  vertical-align: middle;
}
.header-anchor:focus {
  opacity: 1;
  outline: 2px solid var(--header-anchor-hover);
  outline-offset: 2px;
  border-radius: 3px;
}
h1:hover .header-anchor,
h2:hover .header-anchor,
h3:hover .header-anchor,
h4:hover .header-anchor,
h5:hover .header-anchor,
h6:hover .header-anchor { opacity: 1; }
.header-anchor:hover { color: var(--header-anchor-hover); transform: scale(1.05); }

.permalink-tooltip {
  background: var(--tooltip-bg);
  color: var(--tooltip-text);
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  pointer-events: none;
  transition: opacity 0.3s ease;
  z-index: 1000;
}

/* Visually hidden but accessible to screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Contrast/reduced motion adjustments */
/* Dark mode colors now handled via data-theme above */
@media (prefers-contrast: high) {
  .header-anchor:focus { outline-width: 3px; }
}
@media (prefers-reduced-motion: reduce) {
  .header-anchor, .permalink-tooltip { transition: none; }
}

/* Mobile/touch devices: אין hover, לכן האייקון תמיד גלוי ומגדילים hit-area */
@media (hover: none) {
  .header-anchor { opacity: 1; padding: 0.25em; display: inline-flex; align-items: center; }
}
@media (pointer: coarse) {
  .header-anchor { opacity: 1; padding: 0.25em; display: inline-flex; align-items: center; }
}

/* === Mark/Highlight styling (==טקסט מודגש==) === */
mark {
  background: linear-gradient(120deg, #ffd700 0%, #ffec8a 100%);
  color: #1a1a1a;
  padding: 0.1em 0.3em;
  border-radius: 3px;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

/* Custom/Shared themes - yellow highlight with theme mix */
:root[data-theme="custom"] mark,
:root[data-theme^="shared:"] mark {
  background: linear-gradient(
    120deg,
    color-mix(in srgb, #ffd700 85%, var(--primary, #6366f1) 15%) 0%,
    color-mix(in srgb, #ffec8a 85%, var(--primary, #6366f1) 15%) 100%
  );
  color: #1a1a1a;
  font-weight: 500;
}

/* Dark themes - brighter yellow for visibility */
:root[data-theme="dark"] mark,
:root[data-theme="dim"] mark,
:root[data-theme="nebula"] mark {
  background: linear-gradient(120deg, #ffd700 0%, #ffe45c 100%);
  color: #0d1117;
}

/* High contrast - pure yellow */
:root[data-theme="high-contrast"] mark {
  background: #ffff00;
  color: #000000;
  font-weight: bold;
}

/* === Admonition overrides for Custom/Shared themes === */
:root[data-theme="custom"] .admonition,
:root[data-theme^="shared:"] .admonition {
  background: color-mix(in srgb, var(--bg-secondary, #1f2937) 90%, transparent);
  border-color: var(--primary, #6366f1);
}

:root[data-theme="custom"] .admonition-title,
:root[data-theme^="shared:"] .admonition-title {
  background: color-mix(in srgb, var(--bg-tertiary, #374151) 80%, var(--primary, #6366f1) 20%);
  color: var(--text-primary, #f3f4f6);
}

:root[data-theme="custom"] .admonition-content,
:root[data-theme^="shared:"] .admonition-content {
  background: color-mix(in srgb, var(--bg-primary, #111827) 70%, transparent);
  color: var(--text-primary, #e5e7eb);
}

/* Admonition type colors for Custom/Shared themes */
/* note - כחול */
:root[data-theme="custom"] .admonition-note,
:root[data-theme^="shared:"] .admonition-note {
  border-color: #3b82f6;
  background: color-mix(in srgb, #3b82f6 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-note .admonition-title,
:root[data-theme^="shared:"] .admonition-note .admonition-title {
  background: color-mix(in srgb, #3b82f6 30%, var(--bg-tertiary, #374151) 70%);
  color: #93c5fd;
}
:root[data-theme="custom"] .admonition-note .admonition-content,
:root[data-theme^="shared:"] .admonition-note .admonition-content {
  background: color-mix(in srgb, #3b82f6 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* tip - ירוק */
:root[data-theme="custom"] .admonition-tip,
:root[data-theme^="shared:"] .admonition-tip {
  border-color: #22c55e;
  background: color-mix(in srgb, #22c55e 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-tip .admonition-title,
:root[data-theme^="shared:"] .admonition-tip .admonition-title {
  background: color-mix(in srgb, #22c55e 30%, var(--bg-tertiary, #374151) 70%);
  color: #86efac;
}
:root[data-theme="custom"] .admonition-tip .admonition-content,
:root[data-theme^="shared:"] .admonition-tip .admonition-content {
  background: color-mix(in srgb, #22c55e 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* success - ירוק */
:root[data-theme="custom"] .admonition-success,
:root[data-theme^="shared:"] .admonition-success {
  border-color: #22c55e;
  background: color-mix(in srgb, #22c55e 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-success .admonition-title,
:root[data-theme^="shared:"] .admonition-success .admonition-title {
  background: color-mix(in srgb, #22c55e 30%, var(--bg-tertiary, #374151) 70%);
  color: #86efac;
}
:root[data-theme="custom"] .admonition-success .admonition-content,
:root[data-theme^="shared:"] .admonition-success .admonition-content {
  background: color-mix(in srgb, #22c55e 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* warning - צהוב/כתום */
:root[data-theme="custom"] .admonition-warning,
:root[data-theme^="shared:"] .admonition-warning {
  border-color: #eab308;
  background: color-mix(in srgb, #eab308 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-warning .admonition-title,
:root[data-theme^="shared:"] .admonition-warning .admonition-title {
  background: color-mix(in srgb, #eab308 30%, var(--bg-tertiary, #374151) 70%);
  color: #fde047;
}
:root[data-theme="custom"] .admonition-warning .admonition-content,
:root[data-theme^="shared:"] .admonition-warning .admonition-content {
  background: color-mix(in srgb, #eab308 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* danger - אדום */
:root[data-theme="custom"] .admonition-danger,
:root[data-theme^="shared:"] .admonition-danger {
  border-color: #ef4444;
  background: color-mix(in srgb, #ef4444 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-danger .admonition-title,
:root[data-theme^="shared:"] .admonition-danger .admonition-title {
  background: color-mix(in srgb, #ef4444 30%, var(--bg-tertiary, #374151) 70%);
  color: #fca5a5;
}
:root[data-theme="custom"] .admonition-danger .admonition-content,
:root[data-theme^="shared:"] .admonition-danger .admonition-content {
  background: color-mix(in srgb, #ef4444 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* info - טורקיז */
:root[data-theme="custom"] .admonition-info,
:root[data-theme^="shared:"] .admonition-info {
  border-color: #06b6d4;
  background: color-mix(in srgb, #06b6d4 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-info .admonition-title,
:root[data-theme^="shared:"] .admonition-info .admonition-title {
  background: color-mix(in srgb, #06b6d4 30%, var(--bg-tertiary, #374151) 70%);
  color: #67e8f9;
}
:root[data-theme="custom"] .admonition-info .admonition-content,
:root[data-theme^="shared:"] .admonition-info .admonition-content {
  background: color-mix(in srgb, #06b6d4 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* question - סגול */
:root[data-theme="custom"] .admonition-question,
:root[data-theme^="shared:"] .admonition-question {
  border-color: #8b5cf6;
  background: color-mix(in srgb, #8b5cf6 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-question .admonition-title,
:root[data-theme^="shared:"] .admonition-question .admonition-title {
  background: color-mix(in srgb, #8b5cf6 30%, var(--bg-tertiary, #374151) 70%);
  color: #c4b5fd;
}
:root[data-theme="custom"] .admonition-question .admonition-content,
:root[data-theme^="shared:"] .admonition-question .admonition-content {
  background: color-mix(in srgb, #8b5cf6 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* example - כחול */
:root[data-theme="custom"] .admonition-example,
:root[data-theme^="shared:"] .admonition-example {
  border-color: #3b82f6;
  background: color-mix(in srgb, #3b82f6 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-example .admonition-title,
:root[data-theme^="shared:"] .admonition-example .admonition-title {
  background: color-mix(in srgb, #3b82f6 30%, var(--bg-tertiary, #374151) 70%);
  color: #93c5fd;
}
:root[data-theme="custom"] .admonition-example .admonition-content,
:root[data-theme^="shared:"] .admonition-example .admonition-content {
  background: color-mix(in srgb, #3b82f6 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* quote - אפור */
:root[data-theme="custom"] .admonition-quote,
:root[data-theme^="shared:"] .admonition-quote {
  border-color: #6b7280;
  background: color-mix(in srgb, #6b7280 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-quote .admonition-title,
:root[data-theme^="shared:"] .admonition-quote .admonition-title {
  background: color-mix(in srgb, #6b7280 30%, var(--bg-tertiary, #374151) 70%);
  color: #d1d5db;
}
:root[data-theme="custom"] .admonition-quote .admonition-content,
:root[data-theme^="shared:"] .admonition-quote .admonition-content {
  background: color-mix(in srgb, #6b7280 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* experimental - כתום */
:root[data-theme="custom"] .admonition-experimental,
:root[data-theme^="shared:"] .admonition-experimental {
  border-color: #f59e0b;
  background: color-mix(in srgb, #f59e0b 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-experimental .admonition-title,
:root[data-theme^="shared:"] .admonition-experimental .admonition-title {
  background: color-mix(in srgb, #f59e0b 30%, var(--bg-tertiary, #374151) 70%);
  color: #fcd34d;
}
:root[data-theme="custom"] .admonition-experimental .admonition-content,
:root[data-theme^="shared:"] .admonition-experimental .admonition-content {
  background: color-mix(in srgb, #f59e0b 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* deprecated - אפור כהה */
:root[data-theme="custom"] .admonition-deprecated,
:root[data-theme^="shared:"] .admonition-deprecated {
  border-color: #9ca3af;
  background: color-mix(in srgb, #9ca3af 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-deprecated .admonition-title,
:root[data-theme^="shared:"] .admonition-deprecated .admonition-title {
  background: color-mix(in srgb, #9ca3af 30%, var(--bg-tertiary, #374151) 70%);
  color: #e5e7eb;
}
:root[data-theme="custom"] .admonition-deprecated .admonition-content,
:root[data-theme^="shared:"] .admonition-deprecated .admonition-content {
  background: color-mix(in srgb, #9ca3af 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* todo - כחול */
:root[data-theme="custom"] .admonition-todo,
:root[data-theme^="shared:"] .admonition-todo {
  border-color: #3b82f6;
  background: color-mix(in srgb, #3b82f6 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-todo .admonition-title,
:root[data-theme^="shared:"] .admonition-todo .admonition-title {
  background: color-mix(in srgb, #3b82f6 30%, var(--bg-tertiary, #374151) 70%);
  color: #93c5fd;
}
:root[data-theme="custom"] .admonition-todo .admonition-content,
:root[data-theme^="shared:"] .admonition-todo .admonition-content {
  background: color-mix(in srgb, #3b82f6 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}

/* abstract - אפור-כחול */
:root[data-theme="custom"] .admonition-abstract,
:root[data-theme^="shared:"] .admonition-abstract {
  border-color: #64748b;
  background: color-mix(in srgb, #64748b 15%, var(--bg-secondary, #1f2937) 85%);
}
:root[data-theme="custom"] .admonition-abstract .admonition-title,
:root[data-theme^="shared:"] .admonition-abstract .admonition-title {
  background: color-mix(in srgb, #64748b 30%, var(--bg-tertiary, #374151) 70%);
  color: #cbd5e1;
}
:root[data-theme="custom"] .admonition-abstract .admonition-content,
:root[data-theme^="shared:"] .admonition-abstract .admonition-content {
  background: color-mix(in srgb, #64748b 8%, var(--bg-primary, #111827) 92%);
  color: var(--text-primary, #e5e7eb);
}
