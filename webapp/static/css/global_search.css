#searchSuggestions{
  max-height:300px;
  overflow-y:auto;
  position:absolute; /* עיגון לתיבת הקלט כדי שלא "יברח" שמאלה */
  top:calc(100% + 6px);
  left:0; right:0;
  z-index:1000;
  background:#fff;
  border:1px solid rgba(0,0,0,0.1);
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
}

/* --- תיבות חיפוש מעוצבות בסגנון "אוסף הקהילה" --- */
.search-box-wrapper{
  position:relative;
  width:100%;
}

.search-box{
  width:100%;
  padding:0.75rem 2.5rem 0.75rem 0.9rem; /* מרחב לאייקון מצד ימין (RTL) ולשוליים משמאל */
  border-radius:10px; /* יישור לעיצוב של תיבת החיפוש התחתונה */
  border:1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.10);
  color:#fff;
  font-size:1rem;
  outline:none;
  transition: background .2s ease, border-color .2s ease, box-shadow .2s ease;
  box-sizing: border-box;
}

.search-box::placeholder{ color: rgba(255,255,255,0.7); }

.search-box:focus{
  background: rgba(255,255,255,0.18);
  border-color: rgba(255,255,255,0.45);
  box-shadow: 0 0 0 3px rgba(255,255,255,0.15);
}

.search-icon{
  position:absolute;
  right:12px; /* RTL: אייקון בתחילת השורה */
  top:50%;
  transform: translateY(-50%);
  color: rgba(255,255,255,0.85);
  pointer-events:none;
}

.clear-search-btn{
  position:absolute;
  left:10px; /* RTL: כפתור ניקוי בקצה שמאלי */
  top:50%;
  transform: translateY(-50%);
  width:28px; height:28px;
  display:none; /* מוצג רק כשיש טקסט */
  align-items:center; justify-content:center;
  border:none; border-radius:50%;
  background: rgba(255,255,255,0.15);
  color:#fff; cursor:pointer;
  transition: background .2s ease;
}
.clear-search-btn:hover{ background: rgba(255,255,255,0.25); }

/* כרטיס תוצאת חיפוש – רחב וממורכז ~95% מרוחב המסך */
.search-result-card{
  /* הרחבה ל-95% מרוחב המסך עם הגבלה מקסימלית */
  width:95%;
  max-width:1400px; /* למנוע מתיחה קיצונית במסכים גדולים */

  /* מרכוז הכרטיס */
  margin:1rem auto;

  /* תחום ריפוד ורוחב כולל */
  box-sizing:border-box;
  padding:1.25rem;

  /* טיפול בגלישת טקסט */
  overflow-wrap:break-word;
  word-wrap:break-word; /* תמיכה בדפדפנים ישנים */
  word-break:break-word;

  /* מניעת גלישה אופקית */
  overflow-x:hidden;

  /* צללית עדינה */
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
}

.search-result-card h6,
.search-result-card h6 a{
  overflow-wrap:break-word;
  word-wrap:break-word;
  word-break:break-word;
  max-width:100%;
  display:inline-block;
}

.search-result-card .code-snippet{
  font-family:Consolas,Monaco,'Courier New',monospace;
  font-size:13px;
  max-height:240px;
  /* גלילה רק במידת הצורך */
  overflow-x:auto;
  overflow-y:auto;
  max-width:100%;
}

/* לרוב קוד הוא LTR – למנוע שבירה מוזרה ב-RTL */
.search-result-card pre{
  white-space:pre-wrap; /* אפשר שבירת שורות */
  word-break:break-all; /* אגרסיבי יותר לקטעי קוד ארוכים */
  overflow-wrap:anywhere;
  direction:ltr;
  text-align:left;
  max-width:100%;
  margin:0;
}

.search-result-card mark{
  background:#ffeb3b;
  color:#000;
  padding:0 2px;
  border-radius:2px
}

/* מיכל ראשי לחיפוש ופילטרים */
.search-and-filters{
  width:100%;
  max-width:1400px;
  margin:0 auto 1rem auto;
  padding:1rem;
  box-sizing:border-box;
}

/* סלקטים בחיפוש הגלובלי – עיצוב זהה לסלקטים מתחת "שאר קבצים" */
.search-and-filters select.form-control{
  padding: 0.75rem;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.1);
  color: #fff;
  font-size: 1rem;
  height: auto;
}
.search-and-filters select.form-control option{ background: var(--primary); color:#fff; }

/* ייצוב פריסת בקרי החיפוש */
.search-and-filters .filters-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:1rem;
  width:100%;
}

/* עיגון הסוגסטיות לאיזור תיבת החיפוש */
.search-and-filters .col-lg-8,
.search-and-filters .col-md-8{
  position:relative; /* כדי שה-#searchSuggestions יתמקם ביחס לעמודה */
  flex:1 1 65%;
  min-width:300px;
  max-width:100%;
}
/* גם עבור מבנה col-md-12 שבו משתמשים בפועל */
.search-and-filters .col-md-12{ position: relative; }

.search-and-filters .col-lg-4,
.search-and-filters .col-md-4{
  flex:1 1 30%;
  min-width:250px;
  max-width:100%;
}

.search-and-filters .input-group{
  display:flex;
  gap:0.75rem; /* יותר מרווח בין התיבה לכפתור חפש */
  align-items:center;
  width:100%;
  margin-bottom: 0.5rem; /* רווח אנכי קטן מתחת לתיבת החיפוש */
}

/* הופך את ה-wrapper לילד ה-flex הראשי כך שהתיבה מילאה את הרוחב */
.search-and-filters .input-group .search-box-wrapper{
  flex:1 1 auto;
  min-width:200px;
  max-width:100%;
}

#globalSearchInput{
  flex:1;
  min-width:200px;
  max-width:100%;
}

#searchBtn{
  white-space:nowrap;
  flex-shrink:0;
}

/* קונטיינר הפילטרים הימני: רווחים נוחים יותר בין סלקטים ושורות */
.filter-container{
  display: flex;
  gap: 0.75rem; /* רווח גדול יותר בין "תוכן" / "מספר תוצאות" / "רלוונטיות" */
  row-gap: 1rem; /* רווח אנכי בין שורות כשהפריטים נשברים לשורה נוספת (כולל "שפה") */
}

/* עזור לבקרים לא "לברוח" שמאלה במסכים צרים */
@media (max-width: 768px){
  .search-and-filters .filters-row{ flex-direction:column; align-items:stretch; }
  .search-and-filters .col-lg-8,
  .search-and-filters .col-lg-4,
  .search-and-filters .col-md-8,
  .search-and-filters .col-md-4{ flex:1 1 100%; width:100%; max-width:100%; min-width:0; }
  .search-and-filters .input-group{ flex-wrap:nowrap; }
  #globalSearchInput{ min-width:0; }
  .search-and-filters .input-group .search-box-wrapper{ min-width:0; }
  .filter-container{ justify-content:center; margin-top:0.5rem; }
  .search-result-card{ width:98%; padding:1rem; margin:0.5rem auto; }
}

/* התאמות לטאבלט */
@media (min-width: 769px) and (max-width: 1024px){
  .search-and-filters{ padding:1rem 1.5rem; }
  .search-result-card{ width:92%; }
}
